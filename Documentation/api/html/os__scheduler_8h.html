<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>c't-Bot: os_scheduler.h-Dateireferenz</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">c't-Bot
   &#160;<span id="projectnumber">1818</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Erzeugt von Doxygen 1.7.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Hauptseite</span></a></li>
      <li><a href="pages.html"><span>Zusätzliche&#160;Informationen</span></a></li>
      <li><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li class="current"><a href="files.html"><span>Dateien</span></a></li>
      <li><a href="dirs.html"><span>Verzeichnisse</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Auflistung&#160;der&#160;Dateien</span></a></li>
      <li><a href="globals.html"><span>Datei-Elemente</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_a0fca93e65e0dd30a74a1e6addb2ee0e.html">include</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Makrodefinitionen</a> &#124;
<a href="#func-members">Funktionen</a> &#124;
<a href="#var-members">Variablen</a>  </div>
  <div class="headertitle">
<div class="title">os_scheduler.h-Dateireferenz</div>  </div>
</div>
<div class="contents">

<p>Mini-Scheduler fuer BotOS.  
<a href="#details">Mehr ...</a></p>
<div class="textblock"><div class="dynheader">
Dieser Graph zeigt, welche Datei direkt oder indirekt diese Datei enthält:</div>
<div class="dyncontent">
<div class="center"><img src="os__scheduler_8h__dep__incl.png" border="0" usemap="#os__scheduler_8hdep" alt=""/></div>
<map name="os__scheduler_8hdep" id="os__scheduler_8hdep">
</map>
</div>
</div>
<p><a href="os__scheduler_8h_source.html">gehe zum Quellcode dieser Datei</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Makrodefinitionen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#a4bed973e83af0b623ed02bf2da9a1bf0">OS_TIME_SLICE</a>&#160;&#160;&#160;10</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Funktionen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad">os_schedule</a> (uint32_t tickcount)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#a04b8344229f191e96270be0ee6c47961">os_calc_utilization</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#a8709efbe5b47914a0e4c501f0b786a73">os_clear_utilization</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#aa046ca334425d424f289a93f22df6450">os_print_utilization</a> (void)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#a2e1a487145f7c3379ff393b1a760bbbb">os_display</a> (void)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variablen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">volatile uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#aedb1cbd0b22044c1a271aff9014ac8b4">os_scheduling_allowed</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="os__scheduler_8h.html#a776b311cd4fa11cebd26732c9d3c56fc">uart_log</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Ausführliche Beschreibung</h2>
<div class="textblock"><p>Mini-Scheduler fuer BotOS. </p>
<dl class="author"><dt><b>Autor:</b></dt><dd>Timo Sandmann (<a href="mailto:mail@timosandmann.de">mail@timosandmann.de</a>) </dd></dl>
<dl class="date"><dt><b>Datum:</b></dt><dd>02.10.2007 </dd></dl>

<p>Definiert in Datei <a class="el" href="os__scheduler_8h_source.html">os_scheduler.h</a>.</p>
</div><hr/><h2>Makro-Dokumentation</h2>
<a class="anchor" id="a4bed973e83af0b623ed02bf2da9a1bf0"></a><!-- doxytag: member="os_scheduler.h::OS_TIME_SLICE" ref="a4bed973e83af0b623ed02bf2da9a1bf0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define OS_TIME_SLICE&#160;&#160;&#160;10</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Dauer einer Zeitscheibe in ms </p>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8h_source.html#l00034">34</a> der Datei <a class="el" href="os__scheduler_8h_source.html">os_scheduler.h</a>.</p>

<p>Wird benutzt von <a class="el" href="os__thread_8c_source.html#l00119">os_thread_yield()</a>.</p>

</div>
</div>
<hr/><h2>Dokumentation der Funktionen</h2>
<a class="anchor" id="a04b8344229f191e96270be0ee6c47961"></a><!-- doxytag: member="os_scheduler.h::os_calc_utilization" ref="a04b8344229f191e96270be0ee6c47961" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_calc_utilization </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Aktualisiert die Statistikdaten zur CPU-Auslastung </p>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8c_source.html#l00093">93</a> der Datei <a class="el" href="os__scheduler_8c_source.html">os_scheduler.c</a>.</p>

<p>Benutzt <a class="el" href="os__thread_8h_source.html#l00048">OS_MAX_THREADS</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="os__thread_8h_source.html#l00118">os_enterCS</a>, <a class="el" href="os__thread_8c_source.html#l00051">os_threads</a>, <a class="el" href="os__thread_8h_source.html#l00088">Tcb_t::statistics</a>, <a class="el" href="os__thread_8h_source.html#l00073">os_stat_data_t::runtime</a>, <a class="el" href="os__thread_8h_source.html#l00074">os_stat_data_t::missed_deadlines</a>, <a class="el" href="os__thread_8c_source.html#l00108">os_exitCS()</a> und <a class="el" href="os__scheduler_8c_source.html#l00082">MAX_UTIL_ENTRIES</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__get__utilization_8c_source.html#l00044">bot_get_utilization_behaviour()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="os__scheduler_8h_a04b8344229f191e96270be0ee6c47961_cgraph.png" border="0" usemap="#os__scheduler_8h_a04b8344229f191e96270be0ee6c47961_cgraph" alt=""/></div>
<map name="os__scheduler_8h_a04b8344229f191e96270be0ee6c47961_cgraph" id="os__scheduler_8h_a04b8344229f191e96270be0ee6c47961_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8709efbe5b47914a0e4c501f0b786a73"></a><!-- doxytag: member="os_scheduler.h::os_clear_utilization" ref="a8709efbe5b47914a0e4c501f0b786a73" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_clear_utilization </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Loescht alle Statistikdaten zur CPU-Auslastung </p>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8c_source.html#l00129">129</a> der Datei <a class="el" href="os__scheduler_8c_source.html">os_scheduler.c</a>.</p>

<p>Benutzt <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="os__thread_8h_source.html#l00118">os_enterCS</a>, <a class="el" href="os__thread_8h_source.html#l00048">OS_MAX_THREADS</a>, <a class="el" href="os__thread_8c_source.html#l00051">os_threads</a>, <a class="el" href="os__thread_8h_source.html#l00088">Tcb_t::statistics</a>, <a class="el" href="os__thread_8h_source.html#l00073">os_stat_data_t::runtime</a>, <a class="el" href="os__thread_8h_source.html#l00074">os_stat_data_t::missed_deadlines</a>, <a class="el" href="timer_8h_source.html#l00088">TIMER_GET_TICKCOUNT_32</a> und <a class="el" href="os__thread_8c_source.html#l00108">os_exitCS()</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__get__utilization_8c_source.html#l00044">bot_get_utilization_behaviour()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="os__scheduler_8h_a8709efbe5b47914a0e4c501f0b786a73_cgraph.png" border="0" usemap="#os__scheduler_8h_a8709efbe5b47914a0e4c501f0b786a73_cgraph" alt=""/></div>
<map name="os__scheduler_8h_a8709efbe5b47914a0e4c501f0b786a73_cgraph" id="os__scheduler_8h_a8709efbe5b47914a0e4c501f0b786a73_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2e1a487145f7c3379ff393b1a760bbbb"></a><!-- doxytag: member="os_scheduler.h::os_display" ref="a2e1a487145f7c3379ff393b1a760bbbb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_display </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Handler fuer OS-Display </p>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8c_source.html#l00274">274</a> der Datei <a class="el" href="os__scheduler_8c_source.html">os_scheduler.c</a>.</p>

<p>Benutzt <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="timer_8h_source.html#l00088">TIMER_GET_TICKCOUNT_32</a>, <a class="el" href="os__scheduler_8c_source.html#l00054">ZYCLES_PER_IDLERUN</a>, <a class="el" href="bot-local_8h_source.html#l00087">F_CPU</a>, <a class="el" href="timer_8h_source.html#l00154">TIMER_STEPS</a>, <a class="el" href="os__scheduler_8c_source.html#l00057">uart_log</a>, <a class="el" href="display_8c_source.html#l00141">display_cursor()</a>, <a class="el" href="display_8c_source.html#l00117">display_data()</a>, <a class="el" href="display__pc_8c_source.html#l00075">display_printf()</a>, <a class="el" href="display__pc_8c_source.html#l00096">display_puts()</a>, <a class="el" href="os__thread_8c_source.html#l00265">os_print_stackusage()</a>, <a class="el" href="os__thread_8c_source.html#l00051">os_threads</a>, <a class="el" href="os__thread_8h_source.html#l00048">OS_MAX_THREADS</a>, <a class="el" href="rc5_8c_source.html#l00056">RC5_Code</a>, <a class="el" href="rc5-codes_8h_source.html#l00092">RC5_CODE_1</a>, <a class="el" href="os__thread_8c_source.html#l00303">os_stack_dump()</a>, <a class="el" href="rc5-codes_8h_source.html#l00093">RC5_CODE_2</a>, <a class="el" href="os__scheduler_8c_source.html#l00051">os_idle_stack</a>, <a class="el" href="os__thread_8h_source.html#l00058">OS_IDLE_STACKSIZE</a>, <a class="el" href="rc5-codes_8h_source.html#l00094">RC5_CODE_3</a>, <a class="el" href="map_8c_source.html#l00169">map_update_stack</a>, <a class="el" href="map_8h_source.html#l00045">MAP_UPDATE_STACK_SIZE</a> und <a class="el" href="rc5-codes_8h_source.html#l00095">RC5_CODE_4</a>.</p>

<p>Wird benutzt von <a class="el" href="gui_8c_source.html#l00330">gui_init()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="os__scheduler_8h_a2e1a487145f7c3379ff393b1a760bbbb_cgraph.png" border="0" usemap="#os__scheduler_8h_a2e1a487145f7c3379ff393b1a760bbbb_cgraph" alt=""/></div>
<map name="os__scheduler_8h_a2e1a487145f7c3379ff393b1a760bbbb_cgraph" id="os__scheduler_8h_a2e1a487145f7c3379ff393b1a760bbbb_cgraph">
</map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa046ca334425d424f289a93f22df6450"></a><!-- doxytag: member="os_scheduler.h::os_print_utilization" ref="aa046ca334425d424f289a93f22df6450" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_print_utilization </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Gibt die gesammelten Statistikdaten zur CPU-Auslastung per LOG aus </p>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8c_source.html#l00146">146</a> der Datei <a class="el" href="os__scheduler_8c_source.html">os_scheduler.c</a>.</p>

<p>Benutzt <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="log_8h_source.html#l00307">LOG_INFO</a>, <a class="el" href="timer_8h_source.html#l00088">TIMER_GET_TICKCOUNT_32</a>, <a class="el" href="os__scheduler_8c_source.html#l00054">ZYCLES_PER_IDLERUN</a>, <a class="el" href="bot-local_8h_source.html#l00087">F_CPU</a> und <a class="el" href="timer_8h_source.html#l00154">TIMER_STEPS</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__get__utilization_8c_source.html#l00044">bot_get_utilization_behaviour()</a>.</p>

</div>
</div>
<a class="anchor" id="aaf0ea29568109bcdfb1d527f223accad"></a><!-- doxytag: member="os_scheduler.h::os_schedule" ref="aaf0ea29568109bcdfb1d527f223accad" args="(uint32_t tickcount)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void os_schedule </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>tickcount</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Aktualisiert den Schedule, prioritaetsbasiert </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">tickcount</td><td>Wert des Timer-Ticks (32 Bit) </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8c_source.html#l00217">217</a> der Datei <a class="el" href="os__scheduler_8c_source.html">os_scheduler.c</a>.</p>

<p>Benutzt <a class="el" href="os__scheduler_8c_source.html#l00049">os_scheduling_allowed</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="os__thread_8c_source.html#l00051">os_threads</a>, <a class="el" href="os__thread_8h_source.html#l00048">OS_MAX_THREADS</a>, <a class="el" href="os__thread_8h_source.html#l00083">Tcb_t::stack</a>, <a class="el" href="os__thread_8h_source.html#l00086">Tcb_t::wait_for</a>, <a class="el" href="os__thread_8h_source.html#l00041">os_signal_t::value</a>, <a class="el" href="os__thread_8h_source.html#l00084">Tcb_t::nextSchedule</a>, <a class="el" href="os__thread_8c_source.html#l00052">os_thread_running</a>, <a class="el" href="os__scheduler_8c_source.html#l00062">kernel_log_t::time</a>, <a class="el" href="os__scheduler_8c_source.html#l00063">kernel_log_t::from</a>, <a class="el" href="os__scheduler_8c_source.html#l00064">kernel_log_t::to</a>, <a class="el" href="fifo_8c_source.html#l00064">fifo_put_data()</a>, <a class="el" href="os__thread_8h_source.html#l00088">Tcb_t::statistics</a>, <a class="el" href="os__thread_8h_source.html#l00073">os_stat_data_t::runtime</a>, <a class="el" href="os__thread_8h_source.html#l00085">Tcb_t::lastSchedule</a> und <a class="el" href="os__thread_8c_source.html#l00166">os_switch_thread()</a>.</p>

<p>Wird benutzt von <a class="el" href="os__thread_8c_source.html#l00108">os_exitCS()</a>, <a class="el" href="os__thread_8c_source.html#l00119">os_thread_yield()</a>, <a class="el" href="os__thread_8c_source.html#l00153">os_signal_set()</a> und <a class="el" href="timer-low_8c_source.html#l00052">ISR()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="os__scheduler_8h_aaf0ea29568109bcdfb1d527f223accad_cgraph.png" border="0" usemap="#os__scheduler_8h_aaf0ea29568109bcdfb1d527f223accad_cgraph" alt=""/></div>
<map name="os__scheduler_8h_aaf0ea29568109bcdfb1d527f223accad_cgraph" id="os__scheduler_8h_aaf0ea29568109bcdfb1d527f223accad_cgraph">
</map>
</div>
</p>

</div>
</div>
<hr/><h2>Variablen-Dokumentation</h2>
<a class="anchor" id="aedb1cbd0b22044c1a271aff9014ac8b4"></a><!-- doxytag: member="os_scheduler.h::os_scheduling_allowed" ref="aedb1cbd0b22044c1a271aff9014ac8b4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">volatile uint8_t <a class="el" href="os__scheduler_8c.html#aedb1cbd0b22044c1a271aff9014ac8b4">os_scheduling_allowed</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>sperrt den Scheduler, falls != 1. Sollte nur per <a class="el" href="os__thread_8h.html#a29e5f7c4cb7a64b0d9157f2a9efdcdc5">os_enterCS()</a> / <a class="el" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1">os_exitCS()</a> veraendert werden! </p>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8c_source.html#l00049">49</a> der Datei <a class="el" href="os__scheduler_8c_source.html">os_scheduler.c</a>.</p>

<p>Wird benutzt von <a class="el" href="os__scheduler_8c_source.html#l00217">os_schedule()</a>, <a class="el" href="os__thread_8c_source.html#l00065">os_create_thread()</a>, <a class="el" href="os__thread_8c_source.html#l00108">os_exitCS()</a> und <a class="el" href="os__thread_8c_source.html#l00119">os_thread_yield()</a>.</p>

</div>
</div>
<a class="anchor" id="a776b311cd4fa11cebd26732c9d3c56fc"></a><!-- doxytag: member="os_scheduler.h::uart_log" ref="a776b311cd4fa11cebd26732c9d3c56fc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="os__scheduler_8c.html#a776b311cd4fa11cebd26732c9d3c56fc">uart_log</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Zaehler fuer UART-Auslastung </p>

<p>Definiert in Zeile <a class="el" href="os__scheduler_8c_source.html#l00057">57</a> der Datei <a class="el" href="os__scheduler_8c_source.html">os_scheduler.c</a>.</p>

<p>Wird benutzt von <a class="el" href="os__scheduler_8c_source.html#l00274">os_display()</a> und <a class="el" href="timer-low_8c_source.html#l00052">ISR()</a>.</p>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Erzeugt am Don Aug 18 2011 12:13:06 für c't-Bot von &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5
</small></address>

</body>
</html>

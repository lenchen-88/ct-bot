<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>c&#39;t-Bot: map.h Quellcode</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">c&#39;t-Bot
   &#160;<span id="projectnumber">1898</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Erzeugt von Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Hauptseite</span></a></li>
      <li><a href="pages.html"><span>Zus√§tzliche&#160;Informationen</span></a></li>
      <li><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li class="current"><a href="files.html"><span>Dateien</span></a></li>
      <li><a href="dirs.html"><span>Verzeichnisse</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Auflistung&#160;der&#160;Dateien</span></a></li>
      <li><a href="globals.html"><span>Datei-Elemente</span></a></li>
    </ul>
  </div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="dir_9d1e0dccf1391b04e9e09a3367003bd7.html">include</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="headertitle">
<div class="title">map.h</div>  </div>
</div>
<div class="contents">
<a href="map_8h.html">gehe zur Dokumentation dieser Datei</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * c&#39;t-Bot</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * This program is free software; you can redistribute it</span>
<a name="l00005"></a>00005 <span class="comment"> * and/or modify it under the terms of the GNU General</span>
<a name="l00006"></a>00006 <span class="comment"> * Public License as published by the Free Software</span>
<a name="l00007"></a>00007 <span class="comment"> * Foundation; either version 2 of the License, or (at your</span>
<a name="l00008"></a>00008 <span class="comment"> * option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment"> * This program is distributed in the hope that it will be</span>
<a name="l00010"></a>00010 <span class="comment"> * useful, but WITHOUT ANY WARRANTY; without even the implied</span>
<a name="l00011"></a>00011 <span class="comment"> * warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR</span>
<a name="l00012"></a>00012 <span class="comment"> * PURPOSE. See the GNU General Public License for more details.</span>
<a name="l00013"></a>00013 <span class="comment"> * You should have received a copy of the GNU General Public</span>
<a name="l00014"></a>00014 <span class="comment"> * License along with this program; if not, write to the Free</span>
<a name="l00015"></a>00015 <span class="comment"> * Software Foundation, Inc., 59 Temple Place, Suite 330, Boston,</span>
<a name="l00016"></a>00016 <span class="comment"> * MA 02111-1307, USA.</span>
<a name="l00017"></a>00017 <span class="comment"> *</span>
<a name="l00018"></a>00018 <span class="comment"> */</span>
<a name="l00019"></a>00019 
<a name="l00027"></a>00027 <span class="preprocessor">#ifndef MAP_H_</span>
<a name="l00028"></a>00028 <span class="preprocessor"></span><span class="preprocessor">#define MAP_H_</span>
<a name="l00029"></a>00029 <span class="preprocessor"></span>
<a name="l00030"></a>00030 <span class="preprocessor">#ifdef MAP_AVAILABLE</span>
<a name="l00031"></a>00031 <span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="bot-logic_8h.html" title="High-Level-Routinen fuer die Steuerung des c&#39;t-Bots.">bot-logic/bot-logic.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="fifo_8h.html" title="Implementierung einer FIFO.">fifo.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="os__thread_8h.html" title="Threadmanagement fuer BotOS.">os_thread.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="botfs_8h.html" title="Dateisystem BotFS.">botfs.h</a>&quot;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a><a class="code" href="map_8h.html#add058c45008ab8d06a8bdea6d9fd245a">00036</a> <span class="preprocessor">#define MAP_CLEAR_ON_INIT   </span>
<a name="l00037"></a><a class="code" href="map_8h.html#ad9d6214145970c629f60648ab8fd8db2">00037</a> <span class="preprocessor">#define MAP_USE_TRIG_CACHE  </span>
<a name="l00039"></a>00039 <span class="preprocessor"></span><span class="comment">/* Geomtrie der Karte - Achtung, nur aendern, wenn man die Konsequenzen genau kennt! */</span>
<a name="l00040"></a><a class="code" href="map_8h.html#a4cc28e69511e3ec6cedf6de7bea71cef">00040</a> <span class="preprocessor">#define MAP_SIZE_MM         12288L  </span>
<a name="l00041"></a><a class="code" href="map_8h.html#a0a82fd70402bbdc2259248e735fecbca">00041</a> <span class="preprocessor">#define MAP_SIZE            (MAP_SIZE_MM / 1000.0)  </span>
<a name="l00042"></a><a class="code" href="map_8h.html#a350873099e339fcc394b9eefa121ed6e">00042</a> <span class="preprocessor">#define MAP_RESOLUTION      125     </span>
<a name="l00043"></a><a class="code" href="map_8h.html#a3f0e25212e4f40cdcf24cd70cab2f6db">00043</a> <span class="preprocessor">#define MAP_SECTION_POINTS  16      </span>
<a name="l00045"></a><a class="code" href="map_8h.html#a196f0c8d55fc38643b03b3ef2d763a29">00045</a> <span class="preprocessor">#define MAP_UPDATE_STACK_SIZE   180 </span>
<a name="l00046"></a>00046 <span class="preprocessor">#ifdef DEBUG_BOTFS</span>
<a name="l00047"></a>00047 <span class="preprocessor"></span><span class="preprocessor">#undef MAP_UPDATE_STACK_SIZE</span>
<a name="l00048"></a>00048 <span class="preprocessor"></span><span class="preprocessor">#define MAP_UPDATE_STACK_SIZE   220</span>
<a name="l00049"></a>00049 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00050"></a><a class="code" href="map_8h.html#a2d7e46455421e42503343a240edf71ec">00050</a> <span class="preprocessor"></span><span class="preprocessor">#define MAP_UPDATE_CACHE_SIZE   16  </span>
<a name="l00051"></a><a class="code" href="map_8h.html#a70b1c2c4715a4566f790c6030cb6e98b">00051</a> <span class="preprocessor">#define MAP_2_SIM_STACK_SIZE    150 </span>
<a name="l00053"></a><a class="code" href="map_8h.html#a38cbd20d7fdad54cf605069b6d9d64b3">00053</a> <span class="preprocessor">#define MAP_2_SIM_BUFFER_SIZE   32  </span>
<a name="l00055"></a><a class="code" href="map_8h.html#a7e967e2a2abf4d7c7bb5dcf5aa08822a">00055</a> <span class="preprocessor">#define MAP_OBSTACLE_THRESHOLD  -20 </span>
<a name="l00056"></a><a class="code" href="map_8h.html#a3653488ae9b1d519dbc06d60f25948b4">00056</a> <span class="preprocessor">#define MAP_DRIVEN_THRESHOLD    1   </span>
<a name="l00058"></a><a class="code" href="map_8h.html#a89da67e6e13827881b0dfd6530bdfa4b">00058</a> <span class="preprocessor">#define MAP_RATIO_NONE  0       </span>
<a name="l00059"></a><a class="code" href="map_8h.html#a9e8581b4a26fcd7d95cea204890d7fc9">00059</a> <span class="preprocessor">#define MAP_RATIO_FULL  255     </span>
<a name="l00061"></a>00061 <span class="preprocessor"></span><span class="comment">/* Die folgenden Variablen/konstanten NICHT direkt benutzen, sondern die zugehoerigen Makros: get_map_min_x() und Co!</span>
<a name="l00062"></a>00062 <span class="comment"> * Denn sonst erhaelt man Karten- und nicht Weltkoordinaten! */</span>
<a name="l00063"></a>00063 <span class="keyword">extern</span> int16_t <a class="code" href="map_8c.html#aa1b05a579f9ccdbdb62278e23a0a0796" title="belegter Bereich der Karte [Kartenindex]: kleinste X-Koordinate">map_min_x</a>;       
<a name="l00064"></a>00064 <span class="keyword">extern</span> int16_t <a class="code" href="map_8c.html#a7aef5f18d29ba5e9bf20a6715d2288c1" title="belegter Bereich der Karte [Kartenindex]: groesste X-Koordinate">map_max_x</a>;       
<a name="l00065"></a>00065 <span class="keyword">extern</span> int16_t <a class="code" href="map_8c.html#a591a6eb8d147d87df12d333890b46820" title="belegter Bereich der Karte [Kartenindex]: kleinste Y-Koordinate">map_min_y</a>;       
<a name="l00066"></a>00066 <span class="keyword">extern</span> int16_t <a class="code" href="map_8c.html#a8c481d4f650f3205cf4f12f1f1f5e60b" title="belegter Bereich der Karte [Kartenindex]: groesste Y-Koordinate">map_max_y</a>;       
<a name="l00069"></a>00069 <span class="keyword">typedef</span> <span class="keyword">struct </span>{
<a name="l00070"></a><a class="code" href="structPACKED.html#aaa05626c1125c74f1689f5c8dcc85ca0">00070</a>     int16_t <a class="code" href="structPACKED.html#aaa05626c1125c74f1689f5c8dcc85ca0" title="X-Komponente der Position [mm].">x_pos</a>;      
<a name="l00071"></a><a class="code" href="structPACKED.html#a7a0993006ceeba48f30a34a3805e72e1">00071</a>     int16_t <a class="code" href="structPACKED.html#a7a0993006ceeba48f30a34a3805e72e1" title="Y-Komponente der Position [mm].">y_pos</a>;      
<a name="l00072"></a>00072 <span class="preprocessor">#ifdef MAP_USE_TRIG_CACHE</span>
<a name="l00073"></a><a class="code" href="structPACKED.html#a1bbbcac5832a6669c0c9ad3a3a24e08f">00073</a> <span class="preprocessor"></span>    <span class="keywordtype">float</span> <a class="code" href="structPACKED.html#a1bbbcac5832a6669c0c9ad3a3a24e08f" title="sin(heading)">sin</a>;          
<a name="l00074"></a><a class="code" href="structPACKED.html#ad0bd8243b31b6d668884cc303ae5f839">00074</a>     <span class="keywordtype">float</span> <a class="code" href="structPACKED.html#ad0bd8243b31b6d668884cc303ae5f839" title="cos(heading)">cos</a>;          
<a name="l00075"></a>00075 <span class="preprocessor">#else</span>
<a name="l00076"></a>00076 <span class="preprocessor"></span>    int16_t <a class="code" href="sensor_8c.html#ac5682e48513a771560df50e3b213e61a">heading</a>;    
<a name="l00077"></a>00077 <span class="preprocessor">#endif // MAP_USE_TRIG_CACHE</span>
<a name="l00078"></a><a class="code" href="structPACKED.html#ae00c8fdf617ea04daef57823d25cee7b">00078</a> <span class="preprocessor"></span>    uint8_t <a class="code" href="structPACKED.html#ae00c8fdf617ea04daef57823d25cee7b" title="Entfernung linker Distanzsensor [5 mm] aber auch BorderSensor [0/1].">dataL</a>;      
<a name="l00079"></a><a class="code" href="structPACKED.html#ae1b02c0c6c28aaea48933f13acff34bd">00079</a>     uint8_t <a class="code" href="structPACKED.html#ae1b02c0c6c28aaea48933f13acff34bd" title="Entfernung rechter Distanzsensor [5 mm] aber auch BorderSensor [0/1].">dataR</a>;      
<a name="l00080"></a><a class="code" href="structPACKED.html#a338d557bbd6b0d88cafbb63c5dba595b">00080</a>     <a class="code" href="unionscan__mode__t.html">scan_mode_t</a> <a class="code" href="structPACKED.html#a338d557bbd6b0d88cafbb63c5dba595b" title="Was soll aktualisiert werden.">mode</a>;   
<a name="l00081"></a>00081 <span class="preprocessor">#ifdef MEASURE_POSITION_ERRORS_AVAILABLE</span>
<a name="l00082"></a><a class="code" href="structPACKED.html#a8b5a85e863cb807d2118cbc21218305a">00082</a> <span class="preprocessor"></span>    uint8_t <a class="code" href="structPACKED.html#a8b5a85e863cb807d2118cbc21218305a" title="gibt an, wie sicher wir ueber die Position sind [0; 255]">loc_prob</a>;   
<a name="l00083"></a>00083 <span class="preprocessor">#endif</span>
<a name="l00084"></a>00084 <span class="preprocessor"></span>} <a class="code" href="structPACKED.html" title="FAT.">PACKED</a> map_cache_t;
<a name="l00085"></a>00085 
<a name="l00086"></a>00086 <span class="preprocessor">#ifdef BOT_FS_AVAILABLE</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>
<a name="l00088"></a><a class="code" href="unionmap__header__t.html">00088</a> <span class="keyword">typedef</span> <span class="keyword">union </span>{
<a name="l00089"></a>00089     <span class="keyword">struct </span>{
<a name="l00090"></a><a class="code" href="unionmap__header__t.html#a706ffff4837a2876b0c20211f1cb1149">00090</a>         uint16_t <a class="code" href="unionmap__header__t.html#a706ffff4837a2876b0c20211f1cb1149" title="Offset des Kartenanfangs zur Ausrichtung auf Makroblockgroesse.">alignment_offset</a>;  
<a name="l00091"></a><a class="code" href="unionmap__header__t.html#a04de36a97984c4b737cfc56e2d35403d">00091</a>         int16_t <a class="code" href="unionmap__header__t.html#a04de36a97984c4b737cfc56e2d35403d" title="belegter Bereich der Karte [Kartenindex]: kleinste X-Koordinate">map_min_x</a>;          
<a name="l00092"></a><a class="code" href="unionmap__header__t.html#afee2a395e0d0b8ef40b3b24565538367">00092</a>         int16_t <a class="code" href="unionmap__header__t.html#afee2a395e0d0b8ef40b3b24565538367" title="belegter Bereich der Karte [Kartenindex]: groesste X-Koordinate">map_max_x</a>;          
<a name="l00093"></a><a class="code" href="unionmap__header__t.html#a7299e3b807b18493f39c1f6e7add909a">00093</a>         int16_t <a class="code" href="unionmap__header__t.html#a7299e3b807b18493f39c1f6e7add909a" title="belegter Bereich der Karte [Kartenindex]: kleinste Y-Koordinate">map_min_y</a>;          
<a name="l00094"></a><a class="code" href="unionmap__header__t.html#ac9c3430c2629e7bef986127bc6a5e047">00094</a>         int16_t <a class="code" href="unionmap__header__t.html#ac9c3430c2629e7bef986127bc6a5e047" title="belegter Bereich der Karte [Kartenindex]: groesste Y-Koordinate">map_max_y</a>;          
<a name="l00095"></a>00095     } <a class="code" href="structPACKED.html" title="FAT.">PACKED</a> data;
<a name="l00096"></a><a class="code" href="unionmap__header__t.html#af9eafec1de5d9014fc0db2a70a37c736">00096</a>     uint8_t raw[<a class="code" href="botfs__config_8h.html#aae294ba3fbe5e7862c2a95f935c4b560" title="Groesse des Datei-Header-Datenfelds in Byte.">BOTFS_HEADER_DATA_SIZE</a>];
<a name="l00097"></a>00097 } <a class="code" href="unionmap__header__t.html" title="Header der Map-Datei.">map_header_t</a>;
<a name="l00098"></a>00098 <span class="preprocessor">#endif // BOT_FS_AVAILABLE</span>
<a name="l00099"></a>00099 <span class="preprocessor"></span>
<a name="l00100"></a>00100 <span class="keyword">extern</span> <a class="code" href="structfifo__t.html">fifo_t</a> <a class="code" href="map_8c.html#ada848a524986d75cfeb512f6f6e58115" title="Fifo fuer Map-Cache.">map_update_fifo</a>;          
<a name="l00101"></a>00101 <span class="keyword">extern</span> map_cache_t <a class="code" href="map_8c.html#a04a94929973886472ea38f5fbd7238e0" title="Map-Cache.">map_update_cache</a>[];  
<a name="l00102"></a>00102 <span class="keyword">extern</span> uint8_t <a class="code" href="map_8c.html#ae2473394585d550bf87236464d4ba651" title="Stack des Update-Threads.">map_update_stack</a>[];      
<a name="l00104"></a>00104 <span class="preprocessor">#ifdef MAP_2_SIM_AVAILABLE</span>
<a name="l00105"></a>00105 <span class="preprocessor"></span><span class="keyword">extern</span> uint8_t <a class="code" href="map_8c.html#abdfbfc8da70d3db0a40f6580963596b1" title="Stack des Map-2-Sim-Threads.">map_2_sim_worker_stack</a>[];    
<a name="l00106"></a>00106 <span class="preprocessor">#endif // MAP_2_SIM_AVAILABLE</span>
<a name="l00107"></a>00107 <span class="preprocessor"></span>
<a name="l00112"></a>00112 uint8_t <a class="code" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist.">map_locked</a>(<span class="keywordtype">void</span>);
<a name="l00113"></a>00113 
<a name="l00121"></a>00121 int8_t <a class="code" href="map_8c.html#ab7670d0692f0e9c53420abbd463c1518" title="liefert den Durschnittswert um einen Ort herum">map_get_average</a>(int16_t <a class="code" href="behaviour__drive__chess_8c.html#a6c4b361d72eb3767ba424ac9a6ecf52b">x</a>, int16_t <a class="code" href="behaviour__drive__chess_8c.html#a0ed6a908288e0cd87f79c1b5ab56d07c">y</a>, int16_t radius);
<a name="l00122"></a>00122 
<a name="l00129"></a>00129 <span class="keyword">static</span> <span class="keyword">inline</span> int8_t map_get_point(int16_t <a class="code" href="behaviour__drive__chess_8c.html#a6c4b361d72eb3767ba424ac9a6ecf52b">x</a>, int16_t <a class="code" href="behaviour__drive__chess_8c.html#a0ed6a908288e0cd87f79c1b5ab56d07c">y</a>) {
<a name="l00130"></a>00130     <span class="keywordflow">return</span> <a class="code" href="map_8c.html#ab7670d0692f0e9c53420abbd463c1518" title="liefert den Durschnittswert um einen Ort herum">map_get_average</a>(x, y, 0);
<a name="l00131"></a>00131 }
<a name="l00132"></a>00132 
<a name="l00153"></a>00153 uint8_t <a class="code" href="map_8c.html#a4cf69880c2dc15adb544bb4f602b2829" title="Berechnet das Verhaeltnis der Felder einer Region R die ausschliesslich mit Werten zwischen min und m...">map_get_ratio</a>(int16_t x1, int16_t y1, int16_t x2, int16_t y2,
<a name="l00154"></a>00154         int16_t width, int8_t min_val, int8_t max_val);
<a name="l00155"></a>00155 
<a name="l00165"></a>00165 uint8_t <a class="code" href="map_8c.html#a4e5eff4836b0757a967e8ce984cfc041" title="Prueft ob eine direkte Passage frei von Hindernissen ist.">map_way_free</a>(int16_t from_x, int16_t from_y, int16_t to_x, int16_t to_y, uint8_t margin);
<a name="l00166"></a>00166 
<a name="l00170"></a>00170 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map-Update-Cache komplett zurueck.">map_flush_cache</a>(<span class="keywordtype">void</span>);
<a name="l00171"></a>00171 
<a name="l00175"></a>00175 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#a657695282031daa9b92a874b3c0cba75" title="Zeigt die Karte an.">map_print</a>(<span class="keywordtype">void</span>);
<a name="l00176"></a>00176 
<a name="l00181"></a>00181 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#a9fcb3e8cab2c303938256be366401bca" title="Entfernt alle frei-Informationen aus der Karte, so dass nur die Hindernisse uebrig bleiben...">map_clean</a>(<span class="keywordtype">void</span>);
<a name="l00182"></a>00182 
<a name="l00187"></a>00187 int8_t <a class="code" href="map_8c.html#aa0e2581b7a7a791c8a20d4e3320ada4d" title="Initialisiert die Karte.">map_init</a>(<span class="keywordtype">void</span>);
<a name="l00188"></a>00188 
<a name="l00194"></a>00194 int16_t <a class="code" href="map_8c.html#a302393a08814c05999d4be4c75467bc3" title="Konvertiert eine Weltkoordinate in eine Kartenkoordinate.">world_to_map</a>(int16_t koord);
<a name="l00195"></a>00195 
<a name="l00201"></a>00201 <span class="keyword">static</span> <span class="keyword">inline</span> int16_t map_to_world(int16_t map_koord) {
<a name="l00202"></a>00202 <span class="preprocessor">#if (1000 / MAP_RESOLUTION) * MAP_RESOLUTION != 1000</span>
<a name="l00203"></a>00203 <span class="preprocessor"></span><span class="preprocessor">#error &quot;MAP_RESOLUTION ist kein Teiler von 1000, Code in map_to_world() anpassen!&quot;</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00205"></a>00205 <span class="preprocessor"></span>    int32_t tmp = map_koord * (1000 / <a class="code" href="map_8h.html#a350873099e339fcc394b9eefa121ed6e" title="Aufloesung der Karte in Punkte / m.">MAP_RESOLUTION</a>);
<a name="l00206"></a>00206     <span class="keywordflow">return</span> (int16_t) (tmp - (uint16_t) (<a class="code" href="map_8h.html#a0a82fd70402bbdc2259248e735fecbca" title="Kantenlaenge der Karte in m (also MAP_SIZE_MM / 1000).">MAP_SIZE</a> * <a class="code" href="map_8h.html#a350873099e339fcc394b9eefa121ed6e" title="Aufloesung der Karte in Punkte / m.">MAP_RESOLUTION</a> * 4));
<a name="l00207"></a>00207 }
<a name="l00208"></a>00208 
<a name="l00209"></a>00209 <span class="comment">// Makros, um die belegten Kartenbereiche (in Weltkoordinaten) zu ermitteln</span>
<a name="l00210"></a><a class="code" href="map_8h.html#aaeaae469518bdf8b37d417d055a8d783">00210</a> <span class="preprocessor">#define map_get_min_x() map_to_world(map_min_x)     </span>
<a name="l00211"></a><a class="code" href="map_8h.html#a56fd4eeba86b9b062cc605a0b7949751">00211</a> <span class="preprocessor">#define map_get_min_y() map_to_world(map_min_y)     </span>
<a name="l00212"></a><a class="code" href="map_8h.html#ad50241cfd302df65b4c443081b6fb03e">00212</a> <span class="preprocessor">#define map_get_max_x() map_to_world(map_max_x)     </span>
<a name="l00213"></a><a class="code" href="map_8h.html#a2ec31a1f9dc4b75a784b1e54d09969a0">00213</a> <span class="preprocessor">#define map_get_max_y() map_to_world(map_max_y)     </span>
<a name="l00215"></a>00215 <span class="preprocessor">#if defined BOT_FS_AVAILABLE &amp;&amp; defined BOTFS_COPY_AVAILABLE</span>
<a name="l00216"></a>00216 <span class="preprocessor"></span>
<a name="l00221"></a>00221 int8_t <a class="code" href="map_8h.html#ad88dcd4dbae25109bd8f074f58693eba" title="Kopiert die aktuelle Karte in eine BotFS-Datei.">map_save_to_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * file);
<a name="l00222"></a>00222 
<a name="l00228"></a>00228 int8_t <a class="code" href="map_8h.html#a5d4f2636575a2238c52f971204fe2ba3" title="Laedt die Karte aus einer BotFS-Datei, aktuelle Karte wird dadurch geloescht.">map_load_from_file</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * file);
<a name="l00229"></a>00229 <span class="preprocessor">#endif // BOT_FS_AVAILABLE &amp;&amp; BOTFS_COPY_AVAILABLE</span>
<a name="l00230"></a>00230 <span class="preprocessor"></span>
<a name="l00231"></a>00231 <span class="preprocessor">#ifdef MAP_2_SIM_AVAILABLE</span>
<a name="l00232"></a>00232 <span class="preprocessor"></span>
<a name="l00235"></a>00235 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#aece4d0dc94340ae683c9837c9895270f" title="Uebertraegt die komplette Karte an den Sim.">map_2_sim_send</a>(<span class="keywordtype">void</span>);
<a name="l00236"></a>00236 
<a name="l00243"></a>00243 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#ac2cc78e9d8a4f1aacb8e60a1a9d32440" title="Zeichnet eine Linie in die Map-Anzeige des Sim.">map_draw_line</a>(position_t from, position_t to, uint8_t color);
<a name="l00244"></a>00244 
<a name="l00252"></a>00252 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#a273efe11a8336c9363ce325fb161e4df" title="Zeichnet eine Linie von Koordinate from nach to in der Farbe color in die Map ein; dient zur Visualis...">map_draw_line_world</a>(position_t from, position_t to, uint8_t color);
<a name="l00253"></a>00253 
<a name="l00261"></a>00261 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#af260338d7eec0f25c8110086c5a7d886" title="Zeichnet ein Rechteck in die Map-Anzeige des Sim.">map_draw_rect</a>(position_t from, position_t to, uint8_t width, uint8_t color);
<a name="l00262"></a>00262 
<a name="l00269"></a>00269 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#a6107742a7ebd05ba94049c073bc81499" title="Zeichnet einen Kreis in die Map-Anzeige des Sim.">map_draw_circle</a>(position_t center, int16_t radius, uint8_t color);
<a name="l00270"></a>00270 <span class="preprocessor">#endif // MAP_2_SIM_AVAILABLE</span>
<a name="l00271"></a>00271 <span class="preprocessor"></span>
<a name="l00272"></a>00272 <span class="preprocessor">#ifdef PC</span>
<a name="l00273"></a><a class="code" href="map_8h.html#af31b8470f92b2d234cf0d05300859ba1">00273</a> <span class="preprocessor"></span><span class="keywordtype">char</span> * <a class="code" href="map_8c.html#af31b8470f92b2d234cf0d05300859ba1" title="Dateiname fuer Ex- / Import.">map_file</a>; 
<a name="l00280"></a>00280 <span class="keywordtype">int</span> <a class="code" href="map_8c.html#a11f527d97dcbb43f9ae363ac36e1feea" title="Liest eine Karte aus einer Map-Datei (MiniFAT-Format) ein.">map_read</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename);
<a name="l00281"></a>00281 
<a name="l00286"></a>00286 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#ac439afb4a034a8a0c4cfc7421a6000db" title="Schreibt eine Karte in eine PGM-Datei.">map_to_pgm</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> * filename);
<a name="l00287"></a>00287 <span class="preprocessor">#endif // PC</span>
<a name="l00288"></a>00288 <span class="preprocessor"></span>
<a name="l00289"></a>00289 <span class="preprocessor">#ifdef DISPLAY_MAP_AVAILABLE</span>
<a name="l00290"></a>00290 <span class="preprocessor"></span>
<a name="l00293"></a>00293 <span class="keywordtype">void</span> <a class="code" href="map_8c.html#a859def335d6017223cf7854493aab8c8" title="Handler fuer Map-Display.">map_display</a>(<span class="keywordtype">void</span>);
<a name="l00294"></a>00294 <span class="preprocessor">#endif // DISPLAY_MAP_AVAILABLE</span>
<a name="l00295"></a>00295 <span class="preprocessor"></span>
<a name="l00296"></a>00296 <span class="preprocessor">#endif // MAP_AVAILABLE</span>
<a name="l00297"></a>00297 <span class="preprocessor"></span><span class="preprocessor">#endif // MAP_H_</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Erzeugt am Mit Feb 29 2012 14:18:09 f√ºr c't-Bot von &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>c&#39;t-Bot: map.c-Dateireferenz</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">c&#39;t-Bot
   &#160;<span id="projectnumber">1898</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Erzeugt von Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Hauptseite</span></a></li>
      <li><a href="pages.html"><span>Zusätzliche&#160;Informationen</span></a></li>
      <li><a href="annotated.html"><span>Datenstrukturen</span></a></li>
      <li class="current"><a href="files.html"><span>Dateien</span></a></li>
      <li><a href="dirs.html"><span>Verzeichnisse</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>Auflistung&#160;der&#160;Dateien</span></a></li>
      <li><a href="globals.html"><span>Datei-Elemente</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Datenstrukturen</a> &#124;
<a href="#define-members">Makrodefinitionen</a> &#124;
<a href="#func-members">Funktionen</a> &#124;
<a href="#var-members">Variablen</a>  </div>
  <div class="headertitle">
<div class="title">map.c-Dateireferenz</div>  </div>
</div>
<div class="contents">

<p>Karte.  
<a href="#details">Mehr ...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="ct-Bot_8h_source.html">ct-Bot.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="available__screens_8h_source.html">ui/available_screens.h</a>&quot;</code><br/>
<code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &lt;stdlib.h&gt;</code><br/>
<code>#include &lt;string.h&gt;</code><br/>
<code>#include &lt;ctype.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="sensor__correction_8h_source.html">sensor_correction.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="map_8h_source.html">map.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mmc_8h_source.html">mmc.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="mini-fat_8h_source.html">mini-fat.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="rc5-codes_8h_source.html">rc5-codes.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="sensor_8h_source.html">sensor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="display_8h_source.html">display.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="timer_8h_source.html">timer.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="fifo_8h_source.html">fifo.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="os__thread_8h_source.html">os_thread.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="math__utils_8h_source.html">math_utils.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="command_8h_source.html">command.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="motor_8h_source.html">motor.h</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="init_8h_source.html">init.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include-Abhängigkeitsdiagramm für map.c:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c__incl.png" border="0" usemap="#map_8c" alt=""/></div>
<map name="map_8c" id="map_8c">
<area shape="rect" id="node3" href="ct-Bot_8h.html" title="globale Schalter fuer die einzelnen Bot&#45;Funktionalitaeten" alt="" coords="1463,238,1530,266"/><area shape="rect" id="node23" href="available__screens_8h.html" title="Die Schalter fuer sichtbare Screens finden sich hier." alt="" coords="55,161,213,189"/><area shape="rect" id="node33" href="sensor__correction_8h.html" title="Kalibrierungsdaten fuer die IR&#45;Sensoren." alt="" coords="445,83,583,111"/><area shape="rect" id="node35" href="map_8h.html" title="Karte." alt="" coords="827,83,886,111"/><area shape="rect" id="node40" href="motor_8h.html" title="High&#45;Level Routinen fuer die Motorsteuerung des c&#39;t&#45;Bots." alt="" coords="1034,238,1101,266"/><area shape="rect" id="node42" href="sensor_8h.html" title="Architekturunabhaengiger Teil der Sensorsteuerung." alt="" coords="1367,238,1439,266"/><area shape="rect" id="node58" href="fifo_8h.html" title="Implementierung einer FIFO." alt="" coords="709,238,757,266"/><area shape="rect" id="node60" href="os__thread_8h.html" title="Threadmanagement fuer BotOS." alt="" coords="322,315,413,343"/><area shape="rect" id="node64" href="timer_8h.html" title="Timer und Zaehler." alt="" coords="71,393,133,421"/><area shape="rect" id="node76" href="mmc_8h.html" title="Routinen zum Auslesen / Schreiben einer MMC&#45;Karte." alt="" coords="45,83,106,111"/><area shape="rect" id="node79" href="mini-fat_8h.html" title="Routinen zum Auffinden von markierten Files auf einer MMC&#45;Karte." alt="" coords="1170,83,1245,111"/><area shape="rect" id="node81" href="rc5-codes_8h.html" title="RC5&#45;Fernbedienungscodes." alt="" coords="1269,83,1362,111"/><area shape="rect" id="node84" href="display_8h.html" title="Routinen zur Displaysteuerung." alt="" coords="1835,161,1910,189"/><area shape="rect" id="node87" href="log_8h.html" title="Routinen zum Loggen von Informationen." alt="" coords="1437,83,1487,111"/><area shape="rect" id="node92" href="math__utils_8h.html" title="Hilfsfunktionen fuer mathematische Dinge, architekturunabhaengig." alt="" coords="1511,83,1602,111"/><area shape="rect" id="node94" href="command_8h.html" title="Kommando&#45;Management." alt="" coords="1626,83,1717,111"/><area shape="rect" id="node110" href="init_8h.html" title="Initialisierungsroutinen." alt="" coords="1098,83,1146,111"/><area shape="rect" id="node5" href="global_8h.html" title="Allgemeine Definitionen und Datentypen." alt="" coords="1663,315,1733,343"/><area shape="rect" id="node21" href="bot-local_8h.html" title="Konstanten, die den Bot an reale Umgebungen anpassen." alt="" coords="1554,315,1639,343"/><area shape="rect" id="node11" href="builtins_8h.html" title="Compiler&#45;Builtins mit Fallback fuer aeltere avr&#45;libc Versionen." alt="" coords="1361,393,1433,421"/><area shape="rect" id="node37" href="bot-logic_8h.html" title="High&#45;Level&#45;Routinen fuer die Steuerung des c&#39;t&#45;Bots." alt="" coords="997,161,1138,189"/><area shape="rect" id="node69" href="botfs_8h.html" title="Dateisystem BotFS." alt="" coords="861,161,922,189"/><area shape="rect" id="node48" href="available__behaviours_8h.html" title="globale Schalter fuer die einzelnen Verhalten" alt="" coords="1125,238,1343,266"/><area shape="rect" id="node44" href="rc5_8h.html" title="RC5&#45;Fernbedienung / Basic&#45;Tasten&#45;Handler." alt="" coords="1479,315,1530,343"/><area shape="rect" id="node46" href="cmps03_8h.html" title="CMPS03&#45;Treiber." alt="" coords="1375,315,1455,343"/><area shape="rect" id="node50" href="behaviour__prototype_8h.html" title="Rohling fuer eigene Verhalten." alt="" coords="437,315,650,343"/><area shape="rect" id="node52" href="behaviour__hw__test_8h.html" title="Testcode fuer die Bot&#45;Hardware (ehemals TEST_AVAILABLE_ANALOG, _DIGITAL, _MOTOR)" alt="" coords="674,315,874,343"/><area shape="rect" id="node54" href="behaviour__simple_8h.html" title="ganz einfache Beispielverhalten Diese Datei sollte der Einstiegspunkt fuer eigene Experimente sein..." alt="" coords="898,315,1093,343"/><area shape="rect" id="node56" href="behaviour__drive__square_8h.html" title="Bot faehrt im Quadrat." alt="" coords="1117,315,1351,343"/><area shape="rect" id="node66" href="os__scheduler_8h.html" title="Mini&#45;Scheduler fuer BotOS." alt="" coords="251,393,363,421"/><area shape="rect" id="node71" href="botfs__config_8h.html" title="Konfig&#45;Optionen fuer Dateisystem BotFS." alt="" coords="781,238,885,266"/><area shape="rect" id="node73" href="botfs__types_8h.html" title="Datentypen fuer Dateisystem BotFS." alt="" coords="909,238,1010,266"/><area shape="rect" id="node96" href="eeprom_8h.html" title="EEPROM&#45;Zugriff." alt="" coords="1601,161,1678,189"/><area shape="rect" id="node103" href="uart_8h.html" title="Routinen zur seriellen Kommunikation." alt="" coords="1703,161,1757,189"/><area shape="rect" id="node115" href="sensor-low_8h.html" title="Low&#45;Level Routinen fuer die Sensor&#45;Steuerung des c&#39;t&#45;Bots." alt="" coords="1213,161,1311,189"/></map>
</div>
</div>
<p><a href="map_8c_source.html">gehe zum Quellcode dieser Datei</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Datenstrukturen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structPACKED.html">PACKED</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">FAT.  <a href="structPACKED.html#details">Mehr ...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Makrodefinitionen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ac48ac5782821e9e132073c0eb01b2540">MAP_INFO_AVAILABLE</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a0627c1d436d2fe5125e0ef6e7a8b40a7">LOG_DEBUG</a>(<a class="el" href="behaviour__drive__chess_8c.html#a24420a9beaac7cee08b5e255a4c29db1">a</a>,...)&#160;&#160;&#160;{}</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#acc42a959fecabdcea9c85df75c8ec1e7">MAP_SECTIONS</a>&#160;&#160;&#160;(MAP_SIZE_MM * MAP_RESOLUTION / 1000 / MAP_SECTION_POINTS)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Anzahl der Sections in der Map.  <a href="#acc42a959fecabdcea9c85df75c8ec1e7"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aee551e31ca471830f1fc02813fd8557c">MAP_STEP_FREE_SENSOR</a>&#160;&#160;&#160;2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Um diesen Wert wird ein Feld inkrementiert, wenn es vom Sensor als frei erkannt wird.  <a href="#aee551e31ca471830f1fc02813fd8557c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aa2152ced4f17169826216535e3fb3961">MAP_STEP_FREE_LOCATION</a>&#160;&#160;&#160;20</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Um diesen Wert wird ein Feld inkrementiert, wenn der Bot drueber faehrt.  <a href="#aa2152ced4f17169826216535e3fb3961"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#acdb31ff70f79e196743d5b5888fbffdd">MAP_STEP_OCCUPIED</a>&#160;&#160;&#160;5</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Um diesen Wert wird ein Feld dekrementiert, wenn es als belegt erkannt wird.  <a href="#acdb31ff70f79e196743d5b5888fbffdd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aa0c586c6c5d9c1bd53eb6058602ac354">MAP_RADIUS</a>&#160;&#160;&#160;50</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Umkreis eines Messpunktes, der als besetzt aktualisiert wird (Streukreis) [mm].  <a href="#aa0c586c6c5d9c1bd53eb6058602ac354"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a0dcd11d56282a1cd59e7fbf058da8b77">MAP_RADIUS_FIELDS</a>&#160;&#160;&#160;(MAP_RESOLUTION * MAP_RADIUS / 1000)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ac17cc3cc492d270bb5fb535a6fa34942">MAP_PRINT_SCALE</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Soll das PGM eine Skala erhalten?  <a href="#ac17cc3cc492d270bb5fb535a6fa34942"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a3556d1687a98523bda1a30405c486c77">MAP_SCALE</a>&#160;&#160;&#160;(MAP_RESOLUTION / 2)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Alle wieviel Punkte kommt ein Skalen-Strich.  <a href="#a3556d1687a98523bda1a30405c486c77"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a4b976c7768e393b707c3c576348a9c58">MACRO_BLOCK_LENGTH</a>&#160;&#160;&#160;512U</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Kantenlaenge eines Makroblocks in Punkten/Byte.  <a href="#a4b976c7768e393b707c3c576348a9c58"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#acc5d6708113ed529761820f8ccb998c4">MAP_LENGTH_IN_MACRO_BLOCKS</a>&#160;&#160;&#160;((uint8_t) (MAP_SIZE_MM * MAP_RESOLUTION / 1000 / MACRO_BLOCK_LENGTH))</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Kantenlaenge der Karte in Makrobloecken.  <a href="#acc5d6708113ed529761820f8ccb998c4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a4bb9f46211250c3f5f3a45ce38e32fbc">MAP_FILE_SIZE</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Dateigroesse der Map in Bloecken.  <a href="#a4bb9f46211250c3f5f3a45ce38e32fbc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ac167c2691db71eec92db78befc180561">MAP_ALIGNMENT_MASK</a>&#160;&#160;&#160;(2UL * MACRO_BLOCK_LENGTH * MACRO_BLOCK_LENGTH / BOTFS_BLOCK_SIZE - 1)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">fuer die Ausrichtung der Karte an einer Sektorgrenze zu Optimierungszwecken  <a href="#ac167c2691db71eec92db78befc180561"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a7101dbaa75937832b87d524547d7e814">MAP_FILENAME</a>&#160;&#160;&#160;&quot;/map&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Dateiname der Karte.  <a href="#a7101dbaa75937832b87d524547d7e814"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ae98eaa54b0c14a391b8ebdc50e3e0cdf">MAP_FILE_ALIGNMENT</a>&#160;&#160;&#160;(512UL * 1024UL / BOTFS_BLOCK_SIZE)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Alingment der Map-BotFS-Datei (512 KB)  <a href="#ae98eaa54b0c14a391b8ebdc50e3e0cdf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ae8fd74da18f8e9ed7d1bc2947910c1a9">map_buffer</a>&#160;&#160;&#160;GET_MMC_BUFFER(map_buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aa6259129b06e185b7203e0896ae6c870">map_2_sim_buffer</a>&#160;&#160;&#160;GET_MMC_BUFFER(map_2_sim_buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Puffer fuer Map-Block (von der MMC) zur Map-2-Sim-Kommunikation.  <a href="#aa6259129b06e185b7203e0896ae6c870"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Funktionen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#abf9428d5d42d86411f2b54a8f37a4bf1">map_update_main</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Main-Funktion des Map-Update-Threads.  <a href="#abf9428d5d42d86411f2b54a8f37a4bf1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#afb01cbd50e58cb1dcb1681886ad8f29c">map_2_sim_main</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Main-Funktion des Map-2-Sim-Threads.  <a href="#afb01cbd50e58cb1dcb1681886ad8f29c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aa0e2581b7a7a791c8a20d4e3320ada4d">map_init</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialisiert die Karte.  <a href="#aa0e2581b7a7a791c8a20d4e3320ada4d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0">map_flush_cache</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Haelt den Bot an und schreibt den Map-Update-Cache komplett zurueck.  <a href="#a5c151bce0e665ee98fac1465d692fef0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a302393a08814c05999d4be4c75467bc3">world_to_map</a> (int16_t koord)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Konvertiert eine Weltkoordinate in eine Kartenkoordinate.  <a href="#a302393a08814c05999d4be4c75467bc3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a">map_locked</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prueft, ob die Karte zurzeit gesperrt ist.  <a href="#aee723500f07bef9ecc88712b8deb792a"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ab7670d0692f0e9c53420abbd463c1518">map_get_average</a> (int16_t <a class="el" href="behaviour__drive__chess_8c.html#ac1d1eed6a8bbca26af335b9682a6475e">x</a>, int16_t <a class="el" href="behaviour__drive__chess_8c.html#ac553850cf16d4c4f5812f7411e2b2b5a">y</a>, int16_t radius)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">liefert den Durschnittswert um einen Ort herum  <a href="#ab7670d0692f0e9c53420abbd463c1518"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a4cf69880c2dc15adb544bb4f602b2829">map_get_ratio</a> (int16_t x1, int16_t y1, int16_t x2, int16_t y2, int16_t width, int8_t min_val, int8_t max_val)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Berechnet das Verhaeltnis der Felder einer Region R die ausschliesslich mit Werten zwischen min und max belegt sind und allen Feldern von R.  <a href="#a4cf69880c2dc15adb544bb4f602b2829"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a4e5eff4836b0757a967e8ce984cfc041">map_way_free</a> (int16_t from_x, int16_t from_y, int16_t to_x, int16_t to_y, uint8_t margin)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Prueft ob eine direkte Passage frei von Hindernissen ist.  <a href="#a4e5eff4836b0757a967e8ce984cfc041"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ac2cc78e9d8a4f1aacb8e60a1a9d32440">map_draw_line</a> (position_t from, position_t to, uint8_t color)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeichnet eine Linie in die Map-Anzeige des Sim.  <a href="#ac2cc78e9d8a4f1aacb8e60a1a9d32440"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a273efe11a8336c9363ce325fb161e4df">map_draw_line_world</a> (position_t from, position_t to, uint8_t color)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeichnet eine Linie von Koordinate from nach to in der Farbe color in die Map ein; dient zur Visualisierung der Arbeitsweise des Verhaltens.  <a href="#a273efe11a8336c9363ce325fb161e4df"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#af260338d7eec0f25c8110086c5a7d886">map_draw_rect</a> (position_t from, position_t to, uint8_t width, uint8_t color)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeichnet ein Rechteck in die Map-Anzeige des Sim.  <a href="#af260338d7eec0f25c8110086c5a7d886"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a6107742a7ebd05ba94049c073bc81499">map_draw_circle</a> (position_t center, int16_t radius, uint8_t color)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeichnet einen Kreis in die Map-Anzeige des Sim.  <a href="#a6107742a7ebd05ba94049c073bc81499"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aece4d0dc94340ae683c9837c9895270f">map_2_sim_send</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Uebertraegt die komplette Karte an den Sim.  <a href="#aece4d0dc94340ae683c9837c9895270f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a657695282031daa9b92a874b3c0cba75">map_print</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Zeigt die Karte an.  <a href="#a657695282031daa9b92a874b3c0cba75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a9fcb3e8cab2c303938256be366401bca">map_clean</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Entfernt alle frei-Informationen aus der Karte, so dass nur die Hindernisse uebrig bleiben.  <a href="#a9fcb3e8cab2c303938256be366401bca"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ac439afb4a034a8a0c4cfc7421a6000db">map_to_pgm</a> (const char *filename)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Schreibt eine Karte in eine PGM-Datei.  <a href="#ac439afb4a034a8a0c4cfc7421a6000db"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a11f527d97dcbb43f9ae363ac36e1feea">map_read</a> (const char *filename)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Liest eine Karte aus einer Map-Datei (MiniFAT-Format) ein.  <a href="#a11f527d97dcbb43f9ae363ac36e1feea"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a859def335d6017223cf7854493aab8c8">map_display</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler fuer Map-Display.  <a href="#a859def335d6017223cf7854493aab8c8"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variablen</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#aa1b05a579f9ccdbdb62278e23a0a0796">map_min_x</a> = MAP_SIZE * MAP_RESOLUTION / 2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">belegter Bereich der Karte [Kartenindex]: kleinste X-Koordinate  <a href="#aa1b05a579f9ccdbdb62278e23a0a0796"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a7aef5f18d29ba5e9bf20a6715d2288c1">map_max_x</a> = MAP_SIZE * MAP_RESOLUTION / 2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">belegter Bereich der Karte [Kartenindex]: groesste X-Koordinate  <a href="#a7aef5f18d29ba5e9bf20a6715d2288c1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a591a6eb8d147d87df12d333890b46820">map_min_y</a> = MAP_SIZE * MAP_RESOLUTION / 2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">belegter Bereich der Karte [Kartenindex]: kleinste Y-Koordinate  <a href="#a591a6eb8d147d87df12d333890b46820"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a8c481d4f650f3205cf4f12f1f1f5e60b">map_max_y</a> = MAP_SIZE * MAP_RESOLUTION / 2</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">belegter Bereich der Karte [Kartenindex]: groesste Y-Koordinate  <a href="#a8c481d4f650f3205cf4f12f1f1f5e60b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="structfifo__t.html">fifo_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ada848a524986d75cfeb512f6f6e58115">map_update_fifo</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Fifo fuer Map-Cache.  <a href="#ada848a524986d75cfeb512f6f6e58115"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">map_cache_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a04a94929973886472ea38f5fbd7238e0">map_update_cache</a> [MAP_UPDATE_CACHE_SIZE]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Map-Cache.  <a href="#a04a94929973886472ea38f5fbd7238e0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#ae2473394585d550bf87236464d4ba651">map_update_stack</a> [MAP_UPDATE_STACK_SIZE]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack des Update-Threads.  <a href="#ae2473394585d550bf87236464d4ba651"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#af12ac4891a972b87ae08a02f6aaf0382">map_current_block</a> = { 0, False, 0, 0 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Daten des aktuellen Blocks.  <a href="#af12ac4891a972b87ae08a02f6aaf0382"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#a3c6adb8ba84fea0685423d2c0bed40a1">map_2_sim_data</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#abdfbfc8da70d3db0a40f6580963596b1">map_2_sim_worker_stack</a> [MAP_2_SIM_STACK_SIZE]</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Stack des Map-2-Sim-Threads.  <a href="#abdfbfc8da70d3db0a40f6580963596b1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="map_8c.html#af31b8470f92b2d234cf0d05300859ba1">map_file</a> = &quot;sim.map&quot;</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Dateiname fuer Ex- / Import.  <a href="#af31b8470f92b2d234cf0d05300859ba1"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Ausführliche Beschreibung</h2>
<div class="textblock"><p>Karte. </p>
<dl class="author"><dt><b>Autor:</b></dt><dd>Benjamin Benz (<a href="mailto:bbe@heise.de">bbe@heise.de</a>) </dd></dl>
<dl class="date"><dt><b>Datum:</b></dt><dd>19.09.2006 </dd></dl>

<p>Definiert in Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>
</div><hr/><h2>Makro-Dokumentation</h2>
<a class="anchor" id="a0627c1d436d2fe5125e0ef6e7a8b40a7"></a><!-- doxytag: member="map.c::LOG_DEBUG" ref="a0627c1d436d2fe5125e0ef6e7a8b40a7" args="(a,...)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOG_DEBUG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><a class="el" href="behaviour__drive__chess_8c.html#a24420a9beaac7cee08b5e255a4c29db1">a</a>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;{}</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00088">88</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4b976c7768e393b707c3c576348a9c58"></a><!-- doxytag: member="map.c::MACRO_BLOCK_LENGTH" ref="a4b976c7768e393b707c3c576348a9c58" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MACRO_BLOCK_LENGTH&#160;&#160;&#160;512U</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Kantenlaenge eines Makroblocks in Punkten/Byte. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00137">137</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa6259129b06e185b7203e0896ae6c870"></a><!-- doxytag: member="map.c::map_2_sim_buffer" ref="aa6259129b06e185b7203e0896ae6c870" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define map_2_sim_buffer&#160;&#160;&#160;GET_MMC_BUFFER(map_2_sim_buffer)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Puffer fuer Map-Block (von der MMC) zur Map-2-Sim-Kommunikation. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00211">211</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac167c2691db71eec92db78befc180561"></a><!-- doxytag: member="map.c::MAP_ALIGNMENT_MASK" ref="ac167c2691db71eec92db78befc180561" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_ALIGNMENT_MASK&#160;&#160;&#160;(2UL * MACRO_BLOCK_LENGTH * MACRO_BLOCK_LENGTH / BOTFS_BLOCK_SIZE - 1)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>fuer die Ausrichtung der Karte an einer Sektorgrenze zu Optimierungszwecken </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00141">141</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="ae8fd74da18f8e9ed7d1bc2947910c1a9"></a><!-- doxytag: member="map.c::map_buffer" ref="ae8fd74da18f8e9ed7d1bc2947910c1a9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define map_buffer&#160;&#160;&#160;GET_MMC_BUFFER(map_buffer)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a> und <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>.</p>

</div>
</div>
<a class="anchor" id="ae98eaa54b0c14a391b8ebdc50e3e0cdf"></a><!-- doxytag: member="map.c::MAP_FILE_ALIGNMENT" ref="ae98eaa54b0c14a391b8ebdc50e3e0cdf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_FILE_ALIGNMENT&#160;&#160;&#160;(512UL * 1024UL / BOTFS_BLOCK_SIZE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Alingment der Map-BotFS-Datei (512 KB) </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00145">145</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4bb9f46211250c3f5f3a45ce38e32fbc"></a><!-- doxytag: member="map.c::MAP_FILE_SIZE" ref="a4bb9f46211250c3f5f3a45ce38e32fbc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_FILE_SIZE</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Wert:</b><div class="fragment"><pre class="fragment">((uint16_t) ((uint32_t) (<a class="code" href="map_8h.html#a3f0e25212e4f40cdcf24cd70cab2f6db" title="Kantenlaenge einer Section in Punkten ==&gt; eine Section braucht MAP_SECTION_POINTS * MAP_SECTION_POINT...">MAP_SECTION_POINTS</a> * <a class="code" href="map_8h.html#a3f0e25212e4f40cdcf24cd70cab2f6db" title="Kantenlaenge einer Section in Punkten ==&gt; eine Section braucht MAP_SECTION_POINTS * MAP_SECTION_POINT...">MAP_SECTION_POINTS</a>) * <a class="code" href="map_8c.html#acc42a959fecabdcea9c85df75c8ec1e7" title="Anzahl der Sections in der Map.">MAP_SECTIONS</a> * <a class="code" href="map_8c.html#acc42a959fecabdcea9c85df75c8ec1e7" title="Anzahl der Sections in der Map.">MAP_SECTIONS</a> \
                        / <a class="code" href="botfs__config_8h.html#a10ae5b06679abd56612d994889002e4b" title="Groesse eines Blocks (kleinste adressierbare Einheit) in Byte.">BOTFS_BLOCK_SIZE</a>))
</pre></div>
<p>Dateigroesse der Map in Bloecken. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00139">139</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="a7101dbaa75937832b87d524547d7e814"></a><!-- doxytag: member="map.c::MAP_FILENAME" ref="a7101dbaa75937832b87d524547d7e814" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_FILENAME&#160;&#160;&#160;&quot;/map&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dateiname der Karte. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00144">144</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac48ac5782821e9e132073c0eb01b2540"></a><!-- doxytag: member="map.c::MAP_INFO_AVAILABLE" ref="ac48ac5782821e9e132073c0eb01b2540" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_INFO_AVAILABLE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00070">70</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="acc5d6708113ed529761820f8ccb998c4"></a><!-- doxytag: member="map.c::MAP_LENGTH_IN_MACRO_BLOCKS" ref="acc5d6708113ed529761820f8ccb998c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_LENGTH_IN_MACRO_BLOCKS&#160;&#160;&#160;((uint8_t) (MAP_SIZE_MM * MAP_RESOLUTION / 1000 / MACRO_BLOCK_LENGTH))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Kantenlaenge der Karte in Makrobloecken. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00138">138</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="ac17cc3cc492d270bb5fb535a6fa34942"></a><!-- doxytag: member="map.c::MAP_PRINT_SCALE" ref="ac17cc3cc492d270bb5fb535a6fa34942" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_PRINT_SCALE</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Soll das PGM eine Skala erhalten? </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00134">134</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa0c586c6c5d9c1bd53eb6058602ac354"></a><!-- doxytag: member="map.c::MAP_RADIUS" ref="aa0c586c6c5d9c1bd53eb6058602ac354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_RADIUS&#160;&#160;&#160;50</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Umkreis eines Messpunktes, der als besetzt aktualisiert wird (Streukreis) [mm]. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00130">130</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="a0dcd11d56282a1cd59e7fbf058da8b77"></a><!-- doxytag: member="map.c::MAP_RADIUS_FIELDS" ref="a0dcd11d56282a1cd59e7fbf058da8b77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_RADIUS_FIELDS&#160;&#160;&#160;(MAP_RESOLUTION * MAP_RADIUS / 1000)</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Umkreis einen Messpunkt, der als besetzt aktualisiert wird (Streukreis) [Felder] </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00132">132</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="a3556d1687a98523bda1a30405c486c77"></a><!-- doxytag: member="map.c::MAP_SCALE" ref="a3556d1687a98523bda1a30405c486c77" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_SCALE&#160;&#160;&#160;(MAP_RESOLUTION / 2)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Alle wieviel Punkte kommt ein Skalen-Strich. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00135">135</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01784">map_to_pgm()</a>.</p>

</div>
</div>
<a class="anchor" id="acc42a959fecabdcea9c85df75c8ec1e7"></a><!-- doxytag: member="map.c::MAP_SECTIONS" ref="acc42a959fecabdcea9c85df75c8ec1e7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_SECTIONS&#160;&#160;&#160;(MAP_SIZE_MM * MAP_RESOLUTION / 1000 / MAP_SECTION_POINTS)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Anzahl der Sections in der Map. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00123">123</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="aa2152ced4f17169826216535e3fb3961"></a><!-- doxytag: member="map.c::MAP_STEP_FREE_LOCATION" ref="aa2152ced4f17169826216535e3fb3961" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_STEP_FREE_LOCATION&#160;&#160;&#160;20</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Um diesen Wert wird ein Feld inkrementiert, wenn der Bot drueber faehrt. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00126">126</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="aee551e31ca471830f1fc02813fd8557c"></a><!-- doxytag: member="map.c::MAP_STEP_FREE_SENSOR" ref="aee551e31ca471830f1fc02813fd8557c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_STEP_FREE_SENSOR&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Um diesen Wert wird ein Feld inkrementiert, wenn es vom Sensor als frei erkannt wird. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00125">125</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="acdb31ff70f79e196743d5b5888fbffdd"></a><!-- doxytag: member="map.c::MAP_STEP_OCCUPIED" ref="acdb31ff70f79e196743d5b5888fbffdd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAP_STEP_OCCUPIED&#160;&#160;&#160;5</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Um diesen Wert wird ein Feld dekrementiert, wenn es als belegt erkannt wird. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00128">128</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<hr/><h2>Dokumentation der Funktionen</h2>
<a class="anchor" id="afb01cbd50e58cb1dcb1681886ad8f29c"></a><!-- doxytag: member="map.c::map_2_sim_main" ref="afb01cbd50e58cb1dcb1681886ad8f29c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_2_sim_main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main-Funktion des Map-2-Sim-Threads. </p>
<p>&lt; letzte Bot-Position</p>
<p>&lt; letzte Bot-Ausrichtung</p>
<p>&lt; letzter Fehlerradius </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00190">190</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="sensor_8c_source.html#l00116">heading</a>.</p>

</div>
</div>
<a class="anchor" id="aece4d0dc94340ae683c9837c9895270f"></a><!-- doxytag: member="map.c::map_2_sim_send" ref="aece4d0dc94340ae683c9837c9895270f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_2_sim_send </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Uebertraegt die komplette Karte an den Sim. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01467">1467</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="command_8h_source.html#l00103">CMD_MAP</a>, <a class="el" href="command_8c_source.html#l00373">command_write_rawdata()</a>, <a class="el" href="map_8c_source.html#l00200">map_2_sim_data</a>, <a class="el" href="map_8c.html#ae8fd74da18f8e9ed7d1bc2947910c1a9">map_buffer</a>, <a class="el" href="map_8c_source.html#l00185">map_current_block</a>, <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>, <a class="el" href="map_8c_source.html#l00149">map_max_x</a>, <a class="el" href="map_8c_source.html#l00151">map_max_y</a>, <a class="el" href="map_8c_source.html#l00148">map_min_x</a>, <a class="el" href="map_8c_source.html#l00150">map_min_y</a>, <a class="el" href="map_8h_source.html#l00043">MAP_SECTION_POINTS</a>, <a class="el" href="os__thread__pc_8c_source.html#l00153">os_signal_lock()</a>, <a class="el" href="os__thread__pc_8c_source.html#l00167">os_signal_unlock()</a>, <a class="el" href="command_8h_source.html#l00104">SUB_MAP_DATA_1</a>, <a class="el" href="command_8h_source.html#l00105">SUB_MAP_DATA_2</a>, <a class="el" href="command_8h_source.html#l00106">SUB_MAP_DATA_3</a>, <a class="el" href="command_8h_source.html#l00107">SUB_MAP_DATA_4</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00245">x</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00246">y</a>.</p>

<p>Wird benutzt von <a class="el" href="command_8c_source.html#l00414">command_evaluate()</a> und <a class="el" href="init_8c_source.html#l00046">ctbot_init()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_aece4d0dc94340ae683c9837c9895270f_cgraph.png" border="0" usemap="#map_8c_aece4d0dc94340ae683c9837c9895270f_cgraph" alt=""/></div>
<map name="map_8c_aece4d0dc94340ae683c9837c9895270f_cgraph" id="map_8c_aece4d0dc94340ae683c9837c9895270f_cgraph">
<area shape="rect" id="node3" href="command_8c.html#a1497433f9f7384b363203b7bfd3bfe28" title="command_write_rawdata" alt="" coords="184,50,357,78"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1585,329,1711,357"/><area shape="rect" id="node21" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="208,177,333,205"/><area shape="rect" id="node57" href="os__thread__pc_8c.html#ae59b1320daae9dc263c512b326e91c00" title="os_signal_lock" alt="" coords="215,379,327,407"/><area shape="rect" id="node5" href="command_8c.html#ad1ce17d9fe0aaf21a33d52de4e10af0f" title="command_write_rawdata_to" alt="" coords="788,75,977,103"/><area shape="rect" id="node7" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="1028,75,1212,103"/><area shape="rect" id="node9" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="1079,126,1161,154"/><area shape="rect" id="node11" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1261,253,1360,281"/><area shape="rect" id="node13" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1423,278,1521,306"/><area shape="rect" id="node19" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1409,227,1535,255"/><area shape="rect" id="node15" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1591,278,1705,306"/><area shape="rect" id="node23" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="443,25,539,53"/><area shape="rect" id="node25" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="451,126,531,154"/><area shape="rect" id="node37" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="831,278,935,306"/><area shape="rect" id="node40" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="424,75,557,103"/><area shape="rect" id="node42" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="407,177,575,205"/><area shape="rect" id="node54" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="448,227,533,255"/><area shape="rect" id="node27" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="629,75,733,103"/><area shape="rect" id="node29" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="640,126,723,154"/><area shape="rect" id="node31" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="824,126,941,154"/><area shape="rect" id="node34" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="1063,177,1177,205"/><area shape="rect" id="node44" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="624,227,739,255"/><area shape="rect" id="node51" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="624,177,739,205"/><area shape="rect" id="node46" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="801,202,964,230"/><area shape="rect" id="node49" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="1059,227,1181,255"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9fcb3e8cab2c303938256be366401bca"></a><!-- doxytag: member="map.c::map_clean" ref="a9fcb3e8cab2c303938256be366401bca" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_clean </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Entfernt alle frei-Informationen aus der Karte, so dass nur die Hindernisse uebrig bleiben. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01572">1572</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>, <a class="el" href="map_8c_source.html#l00149">map_max_x</a>, <a class="el" href="map_8c_source.html#l00151">map_max_y</a>, <a class="el" href="map_8c_source.html#l00148">map_min_x</a>, <a class="el" href="map_8c_source.html#l00150">map_min_y</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00245">x</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00246">y</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l02142">map_display()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a9fcb3e8cab2c303938256be366401bca_cgraph.png" border="0" usemap="#map_8c_a9fcb3e8cab2c303938256be366401bca_cgraph" alt=""/></div>
<map name="map_8c_a9fcb3e8cab2c303938256be366401bca_cgraph" id="map_8c_a9fcb3e8cab2c303938256be366401bca_cgraph">
<area shape="rect" id="node3" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="145,131,271,159"/><area shape="rect" id="node5" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="357,5,453,33"/><area shape="rect" id="node7" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="365,55,445,83"/><area shape="rect" id="node31" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="731,246,835,274"/><area shape="rect" id="node34" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="339,157,472,185"/><area shape="rect" id="node36" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="321,106,489,134"/><area shape="rect" id="node48" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="363,207,448,235"/><area shape="rect" id="node9" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="544,81,648,109"/><area shape="rect" id="node11" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="555,30,637,58"/><area shape="rect" id="node13" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="724,41,841,69"/><area shape="rect" id="node15" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="913,66,1097,94"/><area shape="rect" id="node17" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="948,15,1063,43"/><area shape="rect" id="node19" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="964,135,1047,163"/><area shape="rect" id="node21" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1147,190,1245,218"/><area shape="rect" id="node23" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1308,165,1407,193"/><area shape="rect" id="node29" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1295,215,1420,243"/><area shape="rect" id="node25" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1476,139,1591,167"/><area shape="rect" id="node27" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1471,190,1596,218"/><area shape="rect" id="node38" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="539,182,653,210"/><area shape="rect" id="node45" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="539,131,653,159"/><area shape="rect" id="node40" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="701,159,864,187"/><area shape="rect" id="node43" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="944,186,1067,214"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a859def335d6017223cf7854493aab8c8"></a><!-- doxytag: member="map.c::map_display" ref="a859def335d6017223cf7854493aab8c8" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_display </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handler fuer Map-Display. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l02142">2142</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="display_8c_source.html#l00141">display_cursor()</a>, <a class="el" href="display__pc_8c_source.html#l00096">display_puts()</a>, <a class="el" href="log_8h_source.html#l00309">LOG_ERROR</a>, <a class="el" href="map_8c_source.html#l01572">map_clean()</a>, <a class="el" href="map_8c_source.html#l00228">map_file</a>, <a class="el" href="map_8h.html#a5d4f2636575a2238c52f971204fe2ba3">map_load_from_file()</a>, <a class="el" href="map_8c_source.html#l01523">map_print()</a>, <a class="el" href="map_8h.html#ad88dcd4dbae25109bd8f074f58693eba">map_save_to_file()</a>, <a class="el" href="rc5_8c_source.html#l00056">RC5_Code</a>, <a class="el" href="rc5-codes_8h_source.html#l00092">RC5_CODE_1</a>, <a class="el" href="rc5-codes_8h_source.html#l00093">RC5_CODE_2</a>, <a class="el" href="rc5-codes_8h_source.html#l00094">RC5_CODE_3</a>, <a class="el" href="rc5-codes_8h_source.html#l00095">RC5_CODE_4</a>, <a class="el" href="rc5-codes_8h_source.html#l00096">RC5_CODE_5</a>, <a class="el" href="rc5-codes_8h_source.html#l00097">RC5_CODE_6</a>, <a class="el" href="rc5-codes_8h_source.html#l00098">RC5_CODE_7</a>, <a class="el" href="rc5-codes_8h_source.html#l00099">RC5_CODE_8</a> und <a class="el" href="rc5-codes_8h_source.html#l00100">RC5_CODE_9</a>.</p>

<p>Wird benutzt von <a class="el" href="gui_8c_source.html#l00334">gui_init()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a859def335d6017223cf7854493aab8c8_cgraph.png" border="0" usemap="#map_8c_a859def335d6017223cf7854493aab8c8_cgraph" alt=""/></div>
<map name="map_8c_a859def335d6017223cf7854493aab8c8_cgraph" id="map_8c_a859def335d6017223cf7854493aab8c8_cgraph">
<area shape="rect" id="node3" href="display_8h.html#ad5109335e4419b07f4d9f73db290f2eb" title="display_cursor" alt="" coords="171,73,280,101"/><area shape="rect" id="node5" href="display_8h.html#ac5ba4c9512c407150e76ef8b97910271" title="display_puts" alt="" coords="345,47,444,75"/><area shape="rect" id="node23" href="map_8c.html#a9fcb3e8cab2c303938256be366401bca" title="Entfernt alle frei&#45;Informationen aus der Karte, so dass nur die Hindernisse uebrig bleiben..." alt="" coords="351,174,439,202"/><area shape="rect" id="node61" href="map_8h.html#a5d4f2636575a2238c52f971204fe2ba3" title="Laedt die Karte aus einer BotFS&#45;Datei, aktuelle Karte wird dadurch geloescht." alt="" coords="156,275,295,303"/><area shape="rect" id="node63" href="map_8c.html#a657695282031daa9b92a874b3c0cba75" title="Zeigt die Karte an." alt="" coords="185,225,265,253"/><area shape="rect" id="node71" href="map_8h.html#ad88dcd4dbae25109bd8f074f58693eba" title="Kopiert die aktuelle Karte in eine BotFS&#45;Datei." alt="" coords="161,326,289,354"/><area shape="rect" id="node7" href="command_8c.html#aef266284aebb772b9592228ed9019469" title="command_write_data" alt="" coords="1057,73,1207,101"/><area shape="rect" id="node9" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="1263,73,1447,101"/><area shape="rect" id="node11" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="1313,123,1396,151"/><area shape="rect" id="node13" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1496,250,1595,278"/><area shape="rect" id="node15" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1657,275,1756,303"/><area shape="rect" id="node21" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1644,225,1769,253"/><area shape="rect" id="node17" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1825,275,1940,303"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1820,326,1945,354"/><area shape="rect" id="node25" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="495,174,620,202"/><area shape="rect" id="node27" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="707,22,803,50"/><area shape="rect" id="node29" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="715,123,795,151"/><area shape="rect" id="node41" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="1080,275,1184,303"/><area shape="rect" id="node44" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="688,73,821,101"/><area shape="rect" id="node46" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="671,174,839,202"/><area shape="rect" id="node58" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="712,225,797,253"/><area shape="rect" id="node31" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="893,73,997,101"/><area shape="rect" id="node33" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="904,123,987,151"/><area shape="rect" id="node35" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="1073,123,1191,151"/><area shape="rect" id="node38" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="1297,174,1412,202"/><area shape="rect" id="node48" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="888,225,1003,253"/><area shape="rect" id="node55" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="888,174,1003,202"/><area shape="rect" id="node50" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="1051,199,1213,227"/><area shape="rect" id="node53" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="1293,225,1416,253"/><area shape="rect" id="node65" href="map_8c.html#ac439afb4a034a8a0c4cfc7421a6000db" title="Schreibt eine Karte in eine PGM&#45;Datei." alt="" coords="344,275,445,303"/><area shape="rect" id="node68" href="os__thread__pc_8c.html#ae59b1320daae9dc263c512b326e91c00" title="os_signal_lock" alt="" coords="501,377,613,405"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6107742a7ebd05ba94049c073bc81499"></a><!-- doxytag: member="map.c::map_draw_circle" ref="a6107742a7ebd05ba94049c073bc81499" args="(position_t center, int16_t radius, uint8_t color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_draw_circle </td>
          <td>(</td>
          <td class="paramtype">position_t&#160;</td>
          <td class="paramname"><em>center</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>radius</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Zeichnet einen Kreis in die Map-Anzeige des Sim. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">center</td><td>Korrdinaten des Kreismittelpunkts (Map-Koordinaten) </td></tr>
    <tr><td class="paramname">radius</td><td>Radius des Kreies (in Map-Aufloesung) </td></tr>
    <tr><td class="paramname">color</td><td>Farbe der Linien: 0=gruen, 1=rot, sonst schwarz </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01285">1285</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="behaviour__drive__chess_8c_source.html#l00191">c</a>, <a class="el" href="command_8h_source.html#l00103">CMD_MAP</a>, <a class="el" href="command_8c_source.html#l00373">command_write_rawdata()</a> und <a class="el" href="command_8h_source.html#l00110">SUB_MAP_CIRCLE</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a6107742a7ebd05ba94049c073bc81499_cgraph.png" border="0" usemap="#map_8c_a6107742a7ebd05ba94049c073bc81499_cgraph" alt=""/></div>
<map name="map_8c_a6107742a7ebd05ba94049c073bc81499_cgraph" id="map_8c_a6107742a7ebd05ba94049c073bc81499_cgraph">
<area shape="rect" id="node3" href="command_8c.html#a1497433f9f7384b363203b7bfd3bfe28" title="command_write_rawdata" alt="" coords="179,30,352,58"/><area shape="rect" id="node5" href="command_8c.html#ad1ce17d9fe0aaf21a33d52de4e10af0f" title="command_write_rawdata_to" alt="" coords="401,30,591,58"/><area shape="rect" id="node7" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="641,5,825,33"/><area shape="rect" id="node9" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="692,55,775,83"/><area shape="rect" id="node11" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="875,55,973,83"/><area shape="rect" id="node13" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1036,30,1135,58"/><area shape="rect" id="node19" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1023,81,1148,109"/><area shape="rect" id="node15" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1204,5,1319,33"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1199,55,1324,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac2cc78e9d8a4f1aacb8e60a1a9d32440"></a><!-- doxytag: member="map.c::map_draw_line" ref="ac2cc78e9d8a4f1aacb8e60a1a9d32440" args="(position_t from, position_t to, uint8_t color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_draw_line </td>
          <td>(</td>
          <td class="paramtype">position_t&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">position_t&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Zeichnet eine Linie in die Map-Anzeige des Sim. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>Startpunkt der Linie (Map-Koordinate) </td></tr>
    <tr><td class="paramname">to</td><td>Endpunkt der Linie (Map-Koordinate) </td></tr>
    <tr><td class="paramname">color</td><td>Farbe der Linie: 0=gruen, 1=rot, sonst schwarz </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01215">1215</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="behaviour__drive__chess_8c_source.html#l00191">c</a>, <a class="el" href="command_8h_source.html#l00103">CMD_MAP</a>, <a class="el" href="command_8c_source.html#l00373">command_write_rawdata()</a> und <a class="el" href="command_8h_source.html#l00109">SUB_MAP_LINE</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__pathplaning_8c_source.html#l00384">bot_calc_wave_behaviour()</a>, <a class="el" href="map_8c_source.html#l01237">map_draw_line_world()</a> und <a class="el" href="map_8c_source.html#l01252">map_draw_rect()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_ac2cc78e9d8a4f1aacb8e60a1a9d32440_cgraph.png" border="0" usemap="#map_8c_ac2cc78e9d8a4f1aacb8e60a1a9d32440_cgraph" alt=""/></div>
<map name="map_8c_ac2cc78e9d8a4f1aacb8e60a1a9d32440_cgraph" id="map_8c_ac2cc78e9d8a4f1aacb8e60a1a9d32440_cgraph">
<area shape="rect" id="node3" href="command_8c.html#a1497433f9f7384b363203b7bfd3bfe28" title="command_write_rawdata" alt="" coords="168,30,341,58"/><area shape="rect" id="node5" href="command_8c.html#ad1ce17d9fe0aaf21a33d52de4e10af0f" title="command_write_rawdata_to" alt="" coords="391,30,580,58"/><area shape="rect" id="node7" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="631,5,815,33"/><area shape="rect" id="node9" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="681,55,764,83"/><area shape="rect" id="node11" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="864,55,963,83"/><area shape="rect" id="node13" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1025,30,1124,58"/><area shape="rect" id="node19" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1012,81,1137,109"/><area shape="rect" id="node15" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1193,5,1308,33"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1188,55,1313,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a273efe11a8336c9363ce325fb161e4df"></a><!-- doxytag: member="map.c::map_draw_line_world" ref="a273efe11a8336c9363ce325fb161e4df" args="(position_t from, position_t to, uint8_t color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_draw_line_world </td>
          <td>(</td>
          <td class="paramtype">position_t&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">position_t&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Zeichnet eine Linie von Koordinate from nach to in der Farbe color in die Map ein; dient zur Visualisierung der Arbeitsweise des Verhaltens. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>Koordinaten des ersten Punktes der Linie (Welt) </td></tr>
    <tr><td class="paramname">to</td><td>Koordinaten des zweiten Punktes der Linie (Welt) </td></tr>
    <tr><td class="paramname">color</td><td>Farbe der Linie: 0=gruen, 1=rot, sonst schwarz </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01237">1237</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8c_source.html#l01215">map_draw_line()</a> und <a class="el" href="map_8c_source.html#l00453">world_to_map()</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__drive__area_8c_source.html#l00691">bot_drive_area_behaviour()</a> und <a class="el" href="behaviour__drive__stack_8c_source.html#l00246">bot_save_waypos_behaviour()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a273efe11a8336c9363ce325fb161e4df_cgraph.png" border="0" usemap="#map_8c_a273efe11a8336c9363ce325fb161e4df_cgraph" alt=""/></div>
<map name="map_8c_a273efe11a8336c9363ce325fb161e4df_cgraph" id="map_8c_a273efe11a8336c9363ce325fb161e4df_cgraph">
<area shape="rect" id="node3" href="map_8c.html#ac2cc78e9d8a4f1aacb8e60a1a9d32440" title="Zeichnet eine Linie in die Map&#45;Anzeige des Sim." alt="" coords="208,30,323,58"/><area shape="rect" id="node23" href="map_8c.html#a302393a08814c05999d4be4c75467bc3" title="Konvertiert eine Weltkoordinate in eine Kartenkoordinate." alt="" coords="212,81,319,109"/><area shape="rect" id="node5" href="command_8c.html#a1497433f9f7384b363203b7bfd3bfe28" title="command_write_rawdata" alt="" coords="371,30,544,58"/><area shape="rect" id="node7" href="command_8c.html#ad1ce17d9fe0aaf21a33d52de4e10af0f" title="command_write_rawdata_to" alt="" coords="593,30,783,58"/><area shape="rect" id="node9" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="833,5,1017,33"/><area shape="rect" id="node11" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="884,55,967,83"/><area shape="rect" id="node13" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1067,55,1165,83"/><area shape="rect" id="node15" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1228,30,1327,58"/><area shape="rect" id="node21" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1215,81,1340,109"/><area shape="rect" id="node17" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1396,5,1511,33"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1391,55,1516,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af260338d7eec0f25c8110086c5a7d886"></a><!-- doxytag: member="map.c::map_draw_rect" ref="af260338d7eec0f25c8110086c5a7d886" args="(position_t from, position_t to, uint8_t width, uint8_t color)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_draw_rect </td>
          <td>(</td>
          <td class="paramtype">position_t&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">position_t&#160;</td>
          <td class="paramname"><em>to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>color</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Zeichnet ein Rechteck in die Map-Anzeige des Sim. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">from</td><td>Startpunkt der Geraden mittig durch das Rechteck (Map-Koordinate) </td></tr>
    <tr><td class="paramname">to</td><td>Endpunkt der Geraden mittig durch das Rechteck (Map-Koordinate) </td></tr>
    <tr><td class="paramname">width</td><td>Breite des Rechtecks (jeweils width/2 links und rechts der Gerade; in Map-Aufloesung) </td></tr>
    <tr><td class="paramname">color</td><td>Farbe der Linien: 0=gruen, 1=rot, sonst schwarz </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01252">1252</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8c_source.html#l01215">map_draw_line()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_af260338d7eec0f25c8110086c5a7d886_cgraph.png" border="0" usemap="#map_8c_af260338d7eec0f25c8110086c5a7d886_cgraph" alt=""/></div>
<map name="map_8c_af260338d7eec0f25c8110086c5a7d886_cgraph" id="map_8c_af260338d7eec0f25c8110086c5a7d886_cgraph">
<area shape="rect" id="node3" href="map_8c.html#ac2cc78e9d8a4f1aacb8e60a1a9d32440" title="Zeichnet eine Linie in die Map&#45;Anzeige des Sim." alt="" coords="168,30,283,58"/><area shape="rect" id="node5" href="command_8c.html#a1497433f9f7384b363203b7bfd3bfe28" title="command_write_rawdata" alt="" coords="331,30,504,58"/><area shape="rect" id="node7" href="command_8c.html#ad1ce17d9fe0aaf21a33d52de4e10af0f" title="command_write_rawdata_to" alt="" coords="553,30,743,58"/><area shape="rect" id="node9" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="793,5,977,33"/><area shape="rect" id="node11" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="844,55,927,83"/><area shape="rect" id="node13" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1027,55,1125,83"/><area shape="rect" id="node15" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1188,30,1287,58"/><area shape="rect" id="node21" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1175,81,1300,109"/><area shape="rect" id="node17" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1356,5,1471,33"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1351,55,1476,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c151bce0e665ee98fac1465d692fef0"></a><!-- doxytag: member="map.c::map_flush_cache" ref="a5c151bce0e665ee98fac1465d692fef0" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_flush_cache </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Haelt den Bot an und schreibt den Map-Update-Cache komplett zurueck. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00430">430</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="motor_8h_source.html#l00031">BOT_SPEED_STOP</a>, <a class="el" href="botfs_8c_source.html#l00698">botfs_flush_used_blocks()</a>, <a class="el" href="botfs_8c_source.html#l00630">botfs_read()</a>, <a class="el" href="map_8c.html#ae8fd74da18f8e9ed7d1bc2947910c1a9">map_buffer</a>, <a class="el" href="map_8c_source.html#l00185">map_current_block</a>, <a class="el" href="map_8c_source.html#l00623">map_locked()</a>, <a class="el" href="motor_8c_source.html#l00303">motor_set()</a>, <a class="el" href="os__thread__pc_8c_source.html#l00141">os_signal_release()</a> und <a class="el" href="os__thread_8c_source.html#l00153">os_signal_set()</a>.</p>

<p>Wird benutzt von <a class="el" href="botcontrol_8c_source.html#l00138">ctbot_shutdown()</a>, <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a>, <a class="el" href="map_8c_source.html#l01572">map_clean()</a>, <a class="el" href="map_8c_source.html#l00709">map_get_average()</a>, <a class="el" href="map_8c_source.html#l01181">map_get_ratio()</a> und <a class="el" href="map_8c_source.html#l01784">map_to_pgm()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a5c151bce0e665ee98fac1465d692fef0_cgraph.png" border="0" usemap="#map_8c_a5c151bce0e665ee98fac1465d692fef0_cgraph" alt=""/></div>
<map name="map_8c_a5c151bce0e665ee98fac1465d692fef0_cgraph" id="map_8c_a5c151bce0e665ee98fac1465d692fef0_cgraph">
<area shape="rect" id="node3" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="183,55,351,83"/><area shape="rect" id="node26" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="224,5,309,33"/><area shape="rect" id="node29" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="219,106,315,134"/><area shape="rect" id="node31" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="227,157,307,185"/><area shape="rect" id="node44" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="200,207,333,235"/><area shape="rect" id="node46" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="592,258,696,286"/><area shape="rect" id="node5" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="400,5,515,33"/><area shape="rect" id="node23" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="400,55,515,83"/><area shape="rect" id="node7" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="563,55,725,83"/><area shape="rect" id="node9" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="825,106,908,134"/><area shape="rect" id="node21" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="805,55,928,83"/><area shape="rect" id="node11" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1008,182,1107,210"/><area shape="rect" id="node13" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1169,157,1268,185"/><area shape="rect" id="node19" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1156,207,1281,235"/><area shape="rect" id="node15" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1337,131,1452,159"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1332,182,1457,210"/><area shape="rect" id="node33" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="405,106,509,134"/><area shape="rect" id="node35" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="416,157,499,185"/><area shape="rect" id="node37" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="585,157,703,185"/><area shape="rect" id="node39" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="775,157,959,185"/><area shape="rect" id="node41" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="809,207,924,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab7670d0692f0e9c53420abbd463c1518"></a><!-- doxytag: member="map.c::map_get_average" ref="ab7670d0692f0e9c53420abbd463c1518" args="(int16_t x, int16_t y, int16_t radius)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t map_get_average </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>radius</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>liefert den Durschnittswert um einen Ort herum </p>
<p>Liefert den Durschnittswert um einen Ort herum.</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>x-Ordinate der Welt </td></tr>
    <tr><td class="paramname">y</td><td>y-Ordinate der Welt </td></tr>
    <tr><td class="paramname">radius</td><td>Radius der Umgebung, die beruecksichtigt wird [mm]; 0 fuer ein Map-Feld (Punkt) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Durchschnitsswert im Umkreis um den Ort (&gt;0 heisst frei, &lt;0 heisst belegt) </dd></dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00709">709</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00191">R</a>, <a class="el" href="map_8c_source.html#l00453">world_to_map()</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00163">X</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00163">Y</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_ab7670d0692f0e9c53420abbd463c1518_cgraph.png" border="0" usemap="#map_8c_ab7670d0692f0e9c53420abbd463c1518_cgraph" alt=""/></div>
<map name="map_8c_ab7670d0692f0e9c53420abbd463c1518_cgraph" id="map_8c_ab7670d0692f0e9c53420abbd463c1518_cgraph">
<area shape="rect" id="node3" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="188,131,313,159"/><area shape="rect" id="node51" href="map_8c.html#a302393a08814c05999d4be4c75467bc3" title="Konvertiert eine Weltkoordinate in eine Kartenkoordinate." alt="" coords="197,182,304,210"/><area shape="rect" id="node5" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="364,55,532,83"/><area shape="rect" id="node28" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="405,5,491,33"/><area shape="rect" id="node31" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="400,106,496,134"/><area shape="rect" id="node33" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="408,157,488,185"/><area shape="rect" id="node46" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="381,207,515,235"/><area shape="rect" id="node48" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="773,258,877,286"/><area shape="rect" id="node7" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="581,5,696,33"/><area shape="rect" id="node25" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="581,55,696,83"/><area shape="rect" id="node9" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="744,55,907,83"/><area shape="rect" id="node11" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="1007,106,1089,134"/><area shape="rect" id="node23" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="987,55,1109,83"/><area shape="rect" id="node13" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1189,182,1288,210"/><area shape="rect" id="node15" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1351,157,1449,185"/><area shape="rect" id="node21" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1337,207,1463,235"/><area shape="rect" id="node17" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1519,131,1633,159"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1513,182,1639,210"/><area shape="rect" id="node35" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="587,106,691,134"/><area shape="rect" id="node37" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="597,157,680,185"/><area shape="rect" id="node39" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="767,157,884,185"/><area shape="rect" id="node41" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="956,157,1140,185"/><area shape="rect" id="node43" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="991,207,1105,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4cf69880c2dc15adb544bb4f602b2829"></a><!-- doxytag: member="map.c::map_get_ratio" ref="a4cf69880c2dc15adb544bb4f602b2829" args="(int16_t x1, int16_t y1, int16_t x2, int16_t y2, int16_t width, int8_t min_val, int8_t max_val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t map_get_ratio </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>x1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>y1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>x2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>y2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>min_val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t&#160;</td>
          <td class="paramname"><em>max_val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Berechnet das Verhaeltnis der Felder einer Region R die ausschliesslich mit Werten zwischen min und max belegt sind und allen Feldern von R. </p>
<p>Die Region R wird als Gerade von (x1|y1) bis (x2|y2) und eine Breite width angegeben. Die Gerade verlaeuft in der Mitte von R. Beispiel: Steht der Bot an (0|0) und man moechte den Weg 50 cm voraus pruefen, gibt man x1 = y1 = y2 = 0, x2 = 500 und width = BOT_DIAMETER an. Am besten bewertet man das Ergebnis mit Hilfe der defines MAP_RATIO_FULL und MAP_RATIO_NONE (s.u.) </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">x1</td><td>Startpunkt der Region R, X-Anteil; Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">y1</td><td>Startpunkt der Region R, Y-Anteil; Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">x2</td><td>Endpunkt der Region R, X-Anteil; Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">y2</td><td>Endpunkt der Region R, Y-Anteil; Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">width</td><td>Breite der Region R (jeweils width/2 links und rechts der Geraden) [mm] </td></tr>
    <tr><td class="paramname">min_val</td><td>minimaler Feldwert, der vorkommen darf </td></tr>
    <tr><td class="paramname">max_val</td><td>maximaler Feldwert, der vorkommen darf </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Verhaeltnis von Anzahl der Felder, die zwischen min_val und max_val liegen, zu Anzahl aller Felder der Region * MAP_RATIO_FULL; MAP_RATIO_NONE -&gt; kein Feld liegt im gewuenschten Bereich; MAP_RATIO_FULL -&gt; alle Felder liegen im gewuenschten Bereich </dd></dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01181">1181</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a> und <a class="el" href="map_8c_source.html#l00453">world_to_map()</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01203">map_way_free()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a4cf69880c2dc15adb544bb4f602b2829_cgraph.png" border="0" usemap="#map_8c_a4cf69880c2dc15adb544bb4f602b2829_cgraph" alt=""/></div>
<map name="map_8c_a4cf69880c2dc15adb544bb4f602b2829_cgraph" id="map_8c_a4cf69880c2dc15adb544bb4f602b2829_cgraph">
<area shape="rect" id="node3" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="164,131,289,159"/><area shape="rect" id="node51" href="map_8c.html#a302393a08814c05999d4be4c75467bc3" title="Konvertiert eine Weltkoordinate in eine Kartenkoordinate." alt="" coords="173,182,280,210"/><area shape="rect" id="node5" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="340,55,508,83"/><area shape="rect" id="node28" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="381,5,467,33"/><area shape="rect" id="node31" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="376,106,472,134"/><area shape="rect" id="node33" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="384,157,464,185"/><area shape="rect" id="node46" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="357,207,491,235"/><area shape="rect" id="node48" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="749,258,853,286"/><area shape="rect" id="node7" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="557,5,672,33"/><area shape="rect" id="node25" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="557,55,672,83"/><area shape="rect" id="node9" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="720,55,883,83"/><area shape="rect" id="node11" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="983,106,1065,134"/><area shape="rect" id="node23" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="963,55,1085,83"/><area shape="rect" id="node13" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1165,182,1264,210"/><area shape="rect" id="node15" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1327,157,1425,185"/><area shape="rect" id="node21" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1313,207,1439,235"/><area shape="rect" id="node17" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1495,131,1609,159"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1489,182,1615,210"/><area shape="rect" id="node35" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="563,106,667,134"/><area shape="rect" id="node37" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="573,157,656,185"/><area shape="rect" id="node39" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="743,157,860,185"/><area shape="rect" id="node41" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="932,157,1116,185"/><area shape="rect" id="node43" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="967,207,1081,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa0e2581b7a7a791c8a20d4e3320ada4d"></a><!-- doxytag: member="map.c::map_init" ref="aa0e2581b7a7a791c8a20d4e3320ada4d" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t map_init </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialisiert die Karte. </p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>0 wenn alles ok ist </dd></dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00419">419</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="global_8h_source.html#l00077">False</a> und <a class="el" href="global_8h_source.html#l00076">True</a>.</p>

<p>Wird benutzt von <a class="el" href="init_8c_source.html#l00046">ctbot_init()</a>, <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a> und <a class="el" href="map_8c_source.html#l01913">map_read()</a>.</p>

</div>
</div>
<a class="anchor" id="aee723500f07bef9ecc88712b8deb792a"></a><!-- doxytag: member="map.c::map_locked" ref="aee723500f07bef9ecc88712b8deb792a" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t map_locked </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prueft, ob die Karte zurzeit gesperrt ist. </p>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>1, falls Karte gesperrt, 0 sonst </dd></dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00623">623</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="os__thread_8h_source.html#l00041">os_signal_t::value</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__get__utilization_8c_source.html#l00044">bot_get_utilization_behaviour()</a> und <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>.</p>

</div>
</div>
<a class="anchor" id="a657695282031daa9b92a874b3c0cba75"></a><!-- doxytag: member="map.c::map_print" ref="a657695282031daa9b92a874b3c0cba75" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_print </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Zeigt die Karte an. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01523">1523</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8c_source.html#l01784">map_to_pgm()</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l02142">map_display()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a657695282031daa9b92a874b3c0cba75_cgraph.png" border="0" usemap="#map_8c_a657695282031daa9b92a874b3c0cba75_cgraph" alt=""/></div>
<map name="map_8c_a657695282031daa9b92a874b3c0cba75_cgraph" id="map_8c_a657695282031daa9b92a874b3c0cba75_cgraph">
<area shape="rect" id="node3" href="map_8c.html#ac439afb4a034a8a0c4cfc7421a6000db" title="Schreibt eine Karte in eine PGM&#45;Datei." alt="" coords="136,309,237,337"/><area shape="rect" id="node5" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="287,157,412,185"/><area shape="rect" id="node21" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1612,283,1737,311"/><area shape="rect" id="node53" href="os__thread__pc_8c.html#ae59b1320daae9dc263c512b326e91c00" title="os_signal_lock" alt="" coords="293,359,405,387"/><area shape="rect" id="node7" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="463,55,631,83"/><area shape="rect" id="node30" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="504,5,589,33"/><area shape="rect" id="node33" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="499,106,595,134"/><area shape="rect" id="node35" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="507,157,587,185"/><area shape="rect" id="node48" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="480,207,613,235"/><area shape="rect" id="node50" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="872,258,976,286"/><area shape="rect" id="node9" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="680,5,795,33"/><area shape="rect" id="node27" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="680,55,795,83"/><area shape="rect" id="node11" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="843,55,1005,83"/><area shape="rect" id="node13" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="1105,106,1188,134"/><area shape="rect" id="node25" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="1085,55,1208,83"/><area shape="rect" id="node15" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1288,233,1387,261"/><area shape="rect" id="node17" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1449,207,1548,235"/><area shape="rect" id="node23" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1436,258,1561,286"/><area shape="rect" id="node19" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1617,207,1732,235"/><area shape="rect" id="node37" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="685,106,789,134"/><area shape="rect" id="node39" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="696,157,779,185"/><area shape="rect" id="node41" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="865,157,983,185"/><area shape="rect" id="node43" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="1055,157,1239,185"/><area shape="rect" id="node45" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="1089,207,1204,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a11f527d97dcbb43f9ae363ac36e1feea"></a><!-- doxytag: member="map.c::map_read" ref="a11f527d97dcbb43f9ae363ac36e1feea" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int map_read </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Liest eine Karte aus einer Map-Datei (MiniFAT-Format) ein. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>Quelldatei </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Fehlercode, 0 falls alles ok </dd></dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01913">1913</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="botfs__config_8h_source.html#l00039">BOTFS_BLOCK_SIZE</a>, <a class="el" href="botfs_8c_source.html#l00698">botfs_flush_used_blocks()</a>, <a class="el" href="botfs_8c_source.html#l00727">botfs_read_header_data()</a>, <a class="el" href="botfs_8c_source.html#l00655">botfs_write()</a>, <a class="el" href="botfs_8c_source.html#l00750">botfs_write_header_data()</a>, <a class="el" href="unionmap__header__t.html#abc5febf46df9c42cf05ba58118291dcc">map_header_t::data</a>, <a class="el" href="global_8h_source.html#l00077">False</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00175">i</a>, <a class="el" href="map_8c_source.html#l00419">map_init()</a>, <a class="el" href="map_8h_source.html#l00092">map_header_t::map_max_x</a>, <a class="el" href="map_8c_source.html#l00149">map_max_x</a>, <a class="el" href="map_8h_source.html#l00094">map_header_t::map_max_y</a>, <a class="el" href="map_8c_source.html#l00151">map_max_y</a>, <a class="el" href="map_8h_source.html#l00091">map_header_t::map_min_x</a>, <a class="el" href="map_8c_source.html#l00148">map_min_x</a>, <a class="el" href="map_8h_source.html#l00093">map_header_t::map_min_y</a>, <a class="el" href="map_8c_source.html#l00150">map_min_y</a>, <a class="el" href="map_8h_source.html#l00042">MAP_RESOLUTION</a> und <a class="el" href="map_8h_source.html#l00041">MAP_SIZE</a>.</p>

<p>Wird benutzt von <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a11f527d97dcbb43f9ae363ac36e1feea_cgraph.png" border="0" usemap="#map_8c_a11f527d97dcbb43f9ae363ac36e1feea_cgraph" alt=""/></div>
<map name="map_8c_a11f527d97dcbb43f9ae363ac36e1feea_cgraph" id="map_8c_a11f527d97dcbb43f9ae363ac36e1feea_cgraph">
<area shape="rect" id="node3" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="140,55,308,83"/><area shape="rect" id="node26" href="botfs_8c.html#a4f5aa83fae2a2682310842df4c8458e0" title="Liest die frei verwendbaren Header&#45;Daten einer Datei aus." alt="" coords="139,5,309,33"/><area shape="rect" id="node29" href="botfs_8c.html#afe7539a83c840b120ef8996557fd0e9a" title="Schreibt BOTFS_BLOCK_SIZE Bytes aus einem Puffer in eine Datei." alt="" coords="181,106,267,134"/><area shape="rect" id="node32" href="botfs_8c.html#a4211d1027e05944d4aff015446e01b62" title="Schreib die frei verwendbaren Header&#45;Daten einer Datei in den Header." alt="" coords="139,157,309,185"/><area shape="rect" id="node35" href="map_8c.html#aa0e2581b7a7a791c8a20d4e3320ada4d" title="Initialisiert die Karte." alt="" coords="188,207,260,235"/><area shape="rect" id="node5" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="357,55,472,83"/><area shape="rect" id="node23" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="357,106,472,134"/><area shape="rect" id="node7" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="520,81,683,109"/><area shape="rect" id="node9" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="751,55,833,83"/><area shape="rect" id="node21" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="731,106,853,134"/><area shape="rect" id="node11" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="901,55,1000,83"/><area shape="rect" id="node13" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1063,30,1161,58"/><area shape="rect" id="node19" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1049,81,1175,109"/><area shape="rect" id="node15" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1231,5,1345,33"/><area shape="rect" id="node17" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1225,55,1351,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac439afb4a034a8a0c4cfc7421a6000db"></a><!-- doxytag: member="map.c::map_to_pgm" ref="ac439afb4a034a8a0c4cfc7421a6000db" args="(const char *filename)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_to_pgm </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Schreibt eine Karte in eine PGM-Datei. </p>
<p>Schreibt einbe Karte in eine PGM-Datei.</p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">*filename</td><td>Zieldatei </td></tr>
  </table>
  </dd>
</dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01784">1784</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>, <a class="el" href="map_8c_source.html#l00149">map_max_x</a>, <a class="el" href="map_8c_source.html#l00151">map_max_y</a>, <a class="el" href="map_8c_source.html#l00148">map_min_x</a>, <a class="el" href="map_8c_source.html#l00150">map_min_y</a>, <a class="el" href="map_8c_source.html#l00135">MAP_SCALE</a>, <a class="el" href="os__thread__pc_8c_source.html#l00153">os_signal_lock()</a>, <a class="el" href="os__thread__pc_8c_source.html#l00167">os_signal_unlock()</a>, <a class="el" href="behaviour__drive__chess_8c_source.html#l00245">x</a> und <a class="el" href="behaviour__drive__chess_8c_source.html#l00246">y</a>.</p>

<p>Wird benutzt von <a class="el" href="cmd-tools__pc_8c_source.html#l00107">hand_cmd_args()</a> und <a class="el" href="map_8c_source.html#l01523">map_print()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_ac439afb4a034a8a0c4cfc7421a6000db_cgraph.png" border="0" usemap="#map_8c_ac439afb4a034a8a0c4cfc7421a6000db_cgraph" alt=""/></div>
<map name="map_8c_ac439afb4a034a8a0c4cfc7421a6000db_cgraph" id="map_8c_ac439afb4a034a8a0c4cfc7421a6000db_cgraph">
<area shape="rect" id="node3" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="156,157,281,185"/><area shape="rect" id="node19" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1481,283,1607,311"/><area shape="rect" id="node51" href="os__thread__pc_8c.html#ae59b1320daae9dc263c512b326e91c00" title="os_signal_lock" alt="" coords="163,359,275,387"/><area shape="rect" id="node5" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="332,55,500,83"/><area shape="rect" id="node28" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="373,5,459,33"/><area shape="rect" id="node31" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="368,106,464,134"/><area shape="rect" id="node33" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="376,157,456,185"/><area shape="rect" id="node46" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="349,207,483,235"/><area shape="rect" id="node48" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="741,258,845,286"/><area shape="rect" id="node7" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="549,5,664,33"/><area shape="rect" id="node25" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="549,55,664,83"/><area shape="rect" id="node9" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="712,55,875,83"/><area shape="rect" id="node11" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="975,106,1057,134"/><area shape="rect" id="node23" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="955,55,1077,83"/><area shape="rect" id="node13" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1157,233,1256,261"/><area shape="rect" id="node15" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1319,207,1417,235"/><area shape="rect" id="node21" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1305,258,1431,286"/><area shape="rect" id="node17" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1487,207,1601,235"/><area shape="rect" id="node35" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="555,106,659,134"/><area shape="rect" id="node37" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="565,157,648,185"/><area shape="rect" id="node39" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="735,157,852,185"/><area shape="rect" id="node41" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="924,157,1108,185"/><area shape="rect" id="node43" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="959,207,1073,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abf9428d5d42d86411f2b54a8f37a4bf1"></a><!-- doxytag: member="map.c::map_update_main" ref="abf9428d5d42d86411f2b54a8f37a4bf1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void map_update_main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Main-Funktion des Map-Update-Threads. </p>
<p>&lt; Block, der aktuell im Puffer steht. Nur bis 32 MByte adressierbar</p>
<p>&lt; markiert, ob der aktuelle Block gegenueber der MMC-Karte veraendert wurde</p>
<p>&lt; X-Koordinate des Blocks</p>
<p>&lt; Y-Koordinate des Blocks </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00175">175</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

</div>
</div>
<a class="anchor" id="a4e5eff4836b0757a967e8ce984cfc041"></a><!-- doxytag: member="map.c::map_way_free" ref="a4e5eff4836b0757a967e8ce984cfc041" args="(int16_t from_x, int16_t from_y, int16_t to_x, int16_t to_y, uint8_t margin)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t map_way_free </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>from_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>from_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>to_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>to_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>margin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Prueft ob eine direkte Passage frei von Hindernissen ist. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">from_x</td><td>Startort x Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">from_y</td><td>Startort y Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">to_x</td><td>Zielort x Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">to_y</td><td>Zielort y Weltkoordinaten [mm] </td></tr>
    <tr><td class="paramname">margin</td><td>Breite eines Toleranzbereichs links und rechts der Fahrspur, der ebenfalls frei sein muss [mm] </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>1, wenn alles frei ist </dd></dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l01203">1203</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="bot-local_8h_source.html#l00033">BOT_DIAMETER</a>, <a class="el" href="map_8c_source.html#l01181">map_get_ratio()</a>, <a class="el" href="map_8h_source.html#l00055">MAP_OBSTACLE_THRESHOLD</a> und <a class="el" href="map_8h_source.html#l00059">MAP_RATIO_FULL</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__drive__area_8c_source.html#l00691">bot_drive_area_behaviour()</a>.</p>

<p><div class="dynheader">
Hier ist ein Graph der zeigt, was diese Funktion aufruft:</div>
<div class="dyncontent">
<div class="center"><img src="map_8c_a4e5eff4836b0757a967e8ce984cfc041_cgraph.png" border="0" usemap="#map_8c_a4e5eff4836b0757a967e8ce984cfc041_cgraph" alt=""/></div>
<map name="map_8c_a4e5eff4836b0757a967e8ce984cfc041_cgraph" id="map_8c_a4e5eff4836b0757a967e8ce984cfc041_cgraph">
<area shape="rect" id="node3" href="map_8c.html#a4cf69880c2dc15adb544bb4f602b2829" title="Berechnet das Verhaeltnis der Felder einer Region R die ausschliesslich mit Werten zwischen min und m..." alt="" coords="167,157,273,185"/><area shape="rect" id="node5" href="map_8c.html#a5c151bce0e665ee98fac1465d692fef0" title="Haelt den Bot an und schreibt den Map&#45;Update&#45;Cache komplett zurueck." alt="" coords="324,131,449,159"/><area shape="rect" id="node53" href="map_8c.html#a302393a08814c05999d4be4c75467bc3" title="Konvertiert eine Weltkoordinate in eine Kartenkoordinate." alt="" coords="333,182,440,210"/><area shape="rect" id="node7" href="botfs_8c.html#a5964332bb5b66e2201b3a6b26935e1af" title="Schreibt die Information ueber benutzte Bloecke in den Datei&#45;Header." alt="" coords="500,55,668,83"/><area shape="rect" id="node30" href="botfs_8c.html#a71348fbe8ed02ee7b07b6ab789a400ab" title="Liest BOTFS_BLOCK_SIZE Bytes aus einer Datei in einen Puffer." alt="" coords="541,5,627,33"/><area shape="rect" id="node33" href="map_8c.html#aee723500f07bef9ecc88712b8deb792a" title="Prueft, ob die Karte zurzeit gesperrt ist." alt="" coords="536,106,632,134"/><area shape="rect" id="node35" href="motor_8c.html#a7d55b2e4a37c91e150513b2c87577750" title="Direkter Zugriff auf den Motor." alt="" coords="544,157,624,185"/><area shape="rect" id="node48" href="os__thread__pc_8c.html#a6fad7ee5233ef39834eb7afc437b0105" title="os_signal_release" alt="" coords="517,207,651,235"/><area shape="rect" id="node50" href="os__thread_8h.html#aa62b6d29ae00ff288fd8969807a62b06" title="Blockiert den aktuellen Thread, bis ein Signal freigegeben wird." alt="" coords="909,258,1013,286"/><area shape="rect" id="node9" href="botfs-low_8h.html#ad79b36f6afd1740d03f6551a2418e733" title="Liest einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="717,5,832,33"/><area shape="rect" id="node27" href="botfs-low_8h.html#a9a7b80bf15c3207b2facd474d23a7f96" title="Schreibt einen BOTFS_BLOCK_SIZE Byte grossen Block." alt="" coords="717,55,832,83"/><area shape="rect" id="node11" href="botfs-low_8h.html#aed0ed8d94dc7c058a4cb0ae26d0f59ff" title="Wartet, bis ein Mutex verfuegbar ist und sperrt es dann." alt="" coords="880,55,1043,83"/><area shape="rect" id="node13" href="os__thread_8h.html#a146cd9b383b02d8e5424e2de5bfdf7e1" title="Beendet den kritischen Abschnitt wieder, der mit os_enterCS began." alt="" coords="1143,106,1225,134"/><area shape="rect" id="node25" href="os__thread__pc_8c.html#a3170fdf75fff4e971354e78a625b5afd" title="os_thread_sleep" alt="" coords="1123,55,1245,83"/><area shape="rect" id="node15" href="os__scheduler_8h.html#aaf0ea29568109bcdfb1d527f223accad" title="os_schedule" alt="" coords="1325,182,1424,210"/><area shape="rect" id="node17" href="fifo_8c.html#a7b3f9ad457273c9717bff49113c84250" title="fifo_put_data" alt="" coords="1487,157,1585,185"/><area shape="rect" id="node23" href="os__thread_8h.html#afa82438e9832609bc5ffbddad166e1b7" title="Schaltet &quot;von aussen&quot; auf einen neuen Thread um." alt="" coords="1473,207,1599,235"/><area shape="rect" id="node19" href="builtins_8h.html#a41590bd57be6a89c1b9bcafe523207f2" title="Disables all interrupts by clearing the global interrupt mask." alt="" coords="1655,131,1769,159"/><area shape="rect" id="node21" href="os__thread__pc_8c.html#aa0b166109be9754de9b8b863b8d197c7" title="os_signal_unlock" alt="" coords="1649,182,1775,210"/><area shape="rect" id="node37" href="motor-low_8h.html#af288dee5f55b67d9eaf1d6e180bfd121" title="Stellt einen PWM&#45;Wert fuer einen Motor ein low&#45;level." alt="" coords="723,106,827,134"/><area shape="rect" id="node39" href="motor-low_8h.html#a51396f3f8b7c919099a65c94cd95f34f" title="Unmittelbarer Zugriff auf die beiden Motoren, normalerweise NICHT verwenden!" alt="" coords="733,157,816,185"/><area shape="rect" id="node41" href="command_8c.html#a419b75ed34551408822d9caee3cd5206" title="command_write" alt="" coords="903,157,1020,185"/><area shape="rect" id="node43" href="command_8c.html#a428cf92e37fc9bbc0ffc48912c3022ac" title="command_write_to_internal" alt="" coords="1092,157,1276,185"/><area shape="rect" id="node45" href="tcp_8h.html#aae71e1682727310afab282923a80c968" title="flushSendBuffer" alt="" coords="1127,207,1241,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a302393a08814c05999d4be4c75467bc3"></a><!-- doxytag: member="map.c::world_to_map" ref="a302393a08814c05999d4be4c75467bc3" args="(int16_t koord)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t world_to_map </td>
          <td>(</td>
          <td class="paramtype">int16_t&#160;</td>
          <td class="paramname"><em>koord</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Konvertiert eine Weltkoordinate in eine Kartenkoordinate. </p>
<dl><dt><b>Parameter:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">koord</td><td>Weltkoordiante </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Rückgabe:</b></dt><dd>Kartenkoordinate </dd></dl>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00453">453</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Benutzt <a class="el" href="map_8h_source.html#l00042">MAP_RESOLUTION</a> und <a class="el" href="map_8h_source.html#l00041">MAP_SIZE</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__pathplaning_8c_source.html#l00384">bot_calc_wave_behaviour()</a>, <a class="el" href="map_8c_source.html#l01237">map_draw_line_world()</a>, <a class="el" href="map_8c_source.html#l00709">map_get_average()</a> und <a class="el" href="map_8c_source.html#l01181">map_get_ratio()</a>.</p>

</div>
</div>
<hr/><h2>Variablen-Dokumentation</h2>
<a class="anchor" id="a3c6adb8ba84fea0685423d2c0bed40a1"></a><!-- doxytag: member="map.c::map_2_sim_data" ref="a3c6adb8ba84fea0685423d2c0bed40a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="map_8c.html#a3c6adb8ba84fea0685423d2c0bed40a1">map_2_sim_data</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initialisierung:</b><div class="fragment"><pre class="fragment"> {
    {<a class="code" href="map_8h.html#a0a82fd70402bbdc2259248e735fecbca" title="Kantenlaenge der Karte in m (also MAP_SIZE_MM / 1000).">MAP_SIZE</a> * <a class="code" href="map_8h.html#a350873099e339fcc394b9eefa121ed6e" title="Aufloesung der Karte in Punkte / m.">MAP_RESOLUTION</a> / 2, <a class="code" href="map_8h.html#a0a82fd70402bbdc2259248e735fecbca" title="Kantenlaenge der Karte in m (also MAP_SIZE_MM / 1000).">MAP_SIZE</a> * <a class="code" href="map_8h.html#a350873099e339fcc394b9eefa121ed6e" title="Aufloesung der Karte in Punkte / m.">MAP_RESOLUTION</a> / 2}, 0

    , 0

}
</pre></div>
<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00200">200</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a>.</p>

</div>
</div>
<a class="anchor" id="abdfbfc8da70d3db0a40f6580963596b1"></a><!-- doxytag: member="map.c::map_2_sim_worker_stack" ref="abdfbfc8da70d3db0a40f6580963596b1" args="[MAP_2_SIM_STACK_SIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="map_8h.html#abc4407e080e24c023a578df3ad762c08">map_2_sim_worker_stack</a>[MAP_2_SIM_STACK_SIZE]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stack des Map-2-Sim-Threads. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00207">207</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="os__thread_8c_source.html#l00265">os_print_stackusage()</a>.</p>

</div>
</div>
<a class="anchor" id="af12ac4891a972b87ae08a02f6aaf0382"></a><!-- doxytag: member="map.c::map_current_block" ref="af12ac4891a972b87ae08a02f6aaf0382" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="map_8c.html#af12ac4891a972b87ae08a02f6aaf0382">map_current_block</a> = { 0, False, 0, 0 }</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Daten des aktuellen Blocks. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00185">185</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a> und <a class="el" href="map_8c_source.html#l00430">map_flush_cache()</a>.</p>

</div>
</div>
<a class="anchor" id="af31b8470f92b2d234cf0d05300859ba1"></a><!-- doxytag: member="map.c::map_file" ref="af31b8470f92b2d234cf0d05300859ba1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">char* <a class="el" href="map_8h.html#af31b8470f92b2d234cf0d05300859ba1">map_file</a> = &quot;sim.map&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Dateiname fuer Ex- / Import. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00228">228</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l02142">map_display()</a>.</p>

</div>
</div>
<a class="anchor" id="a7aef5f18d29ba5e9bf20a6715d2288c1"></a><!-- doxytag: member="map.c::map_max_x" ref="a7aef5f18d29ba5e9bf20a6715d2288c1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t <a class="el" href="map_8h.html#a7aef5f18d29ba5e9bf20a6715d2288c1">map_max_x</a> = MAP_SIZE * MAP_RESOLUTION / 2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>belegter Bereich der Karte [Kartenindex]: groesste X-Koordinate </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00149">149</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a>, <a class="el" href="map_8c_source.html#l01572">map_clean()</a>, <a class="el" href="map_8c_source.html#l01913">map_read()</a> und <a class="el" href="map_8c_source.html#l01784">map_to_pgm()</a>.</p>

</div>
</div>
<a class="anchor" id="a8c481d4f650f3205cf4f12f1f1f5e60b"></a><!-- doxytag: member="map.c::map_max_y" ref="a8c481d4f650f3205cf4f12f1f1f5e60b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t <a class="el" href="map_8h.html#a8c481d4f650f3205cf4f12f1f1f5e60b">map_max_y</a> = MAP_SIZE * MAP_RESOLUTION / 2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>belegter Bereich der Karte [Kartenindex]: groesste Y-Koordinate </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00151">151</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a>, <a class="el" href="map_8c_source.html#l01572">map_clean()</a>, <a class="el" href="map_8c_source.html#l01913">map_read()</a> und <a class="el" href="map_8c_source.html#l01784">map_to_pgm()</a>.</p>

</div>
</div>
<a class="anchor" id="aa1b05a579f9ccdbdb62278e23a0a0796"></a><!-- doxytag: member="map.c::map_min_x" ref="aa1b05a579f9ccdbdb62278e23a0a0796" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t <a class="el" href="map_8h.html#aa1b05a579f9ccdbdb62278e23a0a0796">map_min_x</a> = MAP_SIZE * MAP_RESOLUTION / 2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>belegter Bereich der Karte [Kartenindex]: kleinste X-Koordinate </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00148">148</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a>, <a class="el" href="map_8c_source.html#l01572">map_clean()</a>, <a class="el" href="map_8c_source.html#l01913">map_read()</a> und <a class="el" href="map_8c_source.html#l01784">map_to_pgm()</a>.</p>

</div>
</div>
<a class="anchor" id="a591a6eb8d147d87df12d333890b46820"></a><!-- doxytag: member="map.c::map_min_y" ref="a591a6eb8d147d87df12d333890b46820" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int16_t <a class="el" href="map_8h.html#a591a6eb8d147d87df12d333890b46820">map_min_y</a> = MAP_SIZE * MAP_RESOLUTION / 2</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>belegter Bereich der Karte [Kartenindex]: kleinste Y-Koordinate </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00150">150</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="map_8c_source.html#l01467">map_2_sim_send()</a>, <a class="el" href="map_8c_source.html#l01572">map_clean()</a>, <a class="el" href="map_8c_source.html#l01913">map_read()</a> und <a class="el" href="map_8c_source.html#l01784">map_to_pgm()</a>.</p>

</div>
</div>
<a class="anchor" id="a04a94929973886472ea38f5fbd7238e0"></a><!-- doxytag: member="map.c::map_update_cache" ref="a04a94929973886472ea38f5fbd7238e0" args="[MAP_UPDATE_CACHE_SIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">map_cache_t <a class="el" href="map_8h.html#a4ad0094c3d598468dd621681e4159185">map_update_cache</a>[MAP_UPDATE_CACHE_SIZE]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Map-Cache. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00169">169</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__scan_8c_source.html#l00058">bot_scan_onthefly_behaviour()</a>.</p>

</div>
</div>
<a class="anchor" id="ada848a524986d75cfeb512f6f6e58115"></a><!-- doxytag: member="map.c::map_update_fifo" ref="ada848a524986d75cfeb512f6f6e58115" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structfifo__t.html">fifo_t</a> <a class="el" href="map_8h.html#ada848a524986d75cfeb512f6f6e58115">map_update_fifo</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Fifo fuer Map-Cache. </p>
<p>Fifo fuer Cache. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00168">168</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="behaviour__get__utilization_8c_source.html#l00044">bot_get_utilization_behaviour()</a> und <a class="el" href="behaviour__scan_8c_source.html#l00058">bot_scan_onthefly_behaviour()</a>.</p>

</div>
</div>
<a class="anchor" id="ae2473394585d550bf87236464d4ba651"></a><!-- doxytag: member="map.c::map_update_stack" ref="ae2473394585d550bf87236464d4ba651" args="[MAP_UPDATE_STACK_SIZE]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t <a class="el" href="map_8h.html#abc4799e68cbc325f5d3210ae20fb685b">map_update_stack</a>[MAP_UPDATE_STACK_SIZE]</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Stack des Update-Threads. </p>

<p>Definiert in Zeile <a class="el" href="map_8c_source.html#l00171">171</a> der Datei <a class="el" href="map_8c_source.html">map.c</a>.</p>

<p>Wird benutzt von <a class="el" href="os__scheduler_8c_source.html#l00274">os_display()</a> und <a class="el" href="os__thread_8c_source.html#l00265">os_print_stackusage()</a>.</p>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Erzeugt am Mit Feb 29 2012 14:18:12 für c't-Bot von &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
